<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Jaivignesh Venugopal - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Jaivignesh Venugopal - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-codii"><a class="link" href="#project-codii">Project: Codii</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<a href="https://github.com/CS2103AUG2017-T17-B1/main">Codii</a>] is a desktop address book application specially designed for debt collectors to manage debtors in a simple manner. It has a GUI but most of the user interactions happen using a CLI (Command Line Interface).</p>
</div>
<div class="paragraph">
<p>Debt collectors can store information such as the amount owed, debt borrow date and debt cleared date in addition to debtorâ€™s personal information.</p>
</div>
<div class="paragraph">
<p>Unique features such as an interest calculator help debt collectors manage debts more efficiently.</p>
</div>
<div class="paragraph">
<p>Codii is evolved from [<a href="https://github.com/nus-cs2103-AY1718S1/addressbook-level4">AddressBook - Level 4</a>] which is a desktop address book application used for teaching Software Engineering principles.</p>
</div>
<div class="paragraph">
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103AUG2017-T17-B1/main/blob/master/collated/main/jaivigneshvenugopal.md">Functional code</a>] [<a href="https://github.com/CS2103AUG2017-T17-B1/main/blob/master/collated/test/jaivigneshvenugopal.md">Test code</a>]</p>
</div>
<div class="sect2">
<h3 id="enhancement-added-blacklist-whitelist-command"><a class="link" href="#enhancement-added-blacklist-whitelist-command">Enhancement Added: Blacklist/Whitelist command</a></h3>
<div class="sect3">
<h4 id="external-behavior"><a class="link" href="#external-behavior">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="listing-all-blacklisted-persons-code-blacklist-code"><a class="link" href="#listing-all-blacklisted-persons-code-blacklist-code">Listing all blacklisted persons : <code>blacklist</code></a></h3>
<div class="paragraph">
<p>Shows a list of all blacklisted persons in the address book.<br>
Format: <code>blacklist</code></p>
</div>
</div>
<div class="sect2">
<h3 id="listing-all-whitelisted-persons-code-whitelist-code"><a class="link" href="#listing-all-whitelisted-persons-code-whitelist-code">Listing all whitelisted persons : <code>whitelist</code></a></h3>
<div class="paragraph">
<p>Shows a list of all whitelisted persons in the address book.<br>
Format: <code>whitelist</code></p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-blacklist"><a class="link" href="#justification-blacklist">Justification (Blacklist)</a></h4>
<div class="paragraph">
<p>As a debt collector, there is an important requirement to categorize debtors into different categories. One of these categories include debtors who have been blacklisted. This branding could have been given by the client banks or the debt collection agencies themselves. Nonetheless, the message is clear; these blacklisted debtors must be handled with caution.</p>
</div>
<div class="paragraph">
<p>Thus, it is a requirement to have access to a list of blacklisted people. That is essentially what the <code>blacklist</code> command does. Moreover, working in the blacklist gives exclusive and focused control over the debtors in this list alone. Meaning, when working in the blacklist, users will not be able to access non-blacklisted persons. This is because the commands work exclusively on blacklisted debtors alone.</p>
</div>
<div class="paragraph">
<p>To access other lists, specific commands have to be used to toggle.</p>
</div>
</div>
<div class="sect3">
<h4 id="justification-whitelist"><a class="link" href="#justification-whitelist">Justification (Whitelist)</a></h4>
<div class="paragraph">
<p>As a debt collector, it is also important to identify and categorize debtors who have repaid all their debts. Ultimately, that is the purpose of the <code>whitelist</code> command. Debt collection agencies regularly need to liase with client banks to submit reports on debtors' activities and repayment amounts. Thus, having a list of debtors who have repaid their debts, along with the date that they repaid the full amount, essentially helps to track debtors' activities.</p>
</div>
<div class="paragraph">
<p>If the debt collection agency happens to be a subsidiary institution to a bank, this whitelist feature will also aid in allowing the voice-call sectors to contact people for additional loan-signups.</p>
</div>
<div class="paragraph">
<p>As aforementioned, to access other lists, specific commands have to be used to toggle.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="list-masterlist-blacklist-etc-mechanism"><a class="link" href="#list-masterlist-blacklist-etc-mechanism">List (Masterlist, Blacklist, etc.) mechanism</a></h3>
<div class="paragraph">
<p>Having multiple lists is useful for debt collectors to view debtors of different categories. Currently, these different lists include masterlist and blacklist.</p>
</div>
<div class="paragraph">
<p>These lists could be viewed with the respective commands that will update the panel that is currently displayed. The commands to display these lists are named after the lists themselves. For example, to view the <code>blacklist</code>, the command typed is "blacklist" or "bl".</p>
</div>
<div class="paragraph">
<p>The following sequence diagram, Figure 4.5.1, shows further details of the interaction between the user and various application components as a whole, when the blacklist command is executed:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/BlacklistCommandSequenceDiagram1.PNG" alt="BlacklistCommandSequenceDiagram1" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.5.1 : Sequence diagram of how the <code>blacklist</code> command works</em></p>
</div>
<div class="paragraph">
<p>The following sequence diagram, Figure 4.5.2, shows further details of the interaction between <code>ModelManager</code> and <code>ReadOnlyAddressBook</code> to obtain the blacklist:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/BlacklistCommandSequenceDiagram2.png" alt="BlacklistCommandSequenceDiagram2" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.5.2 : Sequence diagram of how <code>ModelManager</code> interacts with <code>ReadOnlyAddressBook</code> To generate blacklist From all persons</em></p>
</div>
<div class="paragraph">
<p>The List mechanism is facilitated by commands which use <code>Logic</code> interface to obtain the copy of the list that is required. As seen from Figure 4.5.1 and Figure 4.5.2 above, to obtain the current blacklist of the addressbook, "blacklist" <code>String</code> is first captured by the <code>CommandBox</code> class. The <code>CommandBox</code> class then passes this <code>String</code> to the <code>Logic</code> interface for execution.</p>
</div>
<div class="paragraph">
<p><code>Logic</code> interface uses <code>LogicManager</code> class to validate the written command and package it as a <code>Command</code> object. The respective command is then executed in <code>LogicManager</code> class. These are the instructions that are executed for this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
<span class="directive">public</span> CommandResult execute() {
    requireNonNull(model);
    model.deselectPerson();
    model.changeListTo(COMMAND_WORD);
    model.updateFilteredBlacklistedPersonList(PREDICATE_SHOW_ALL_BLACKLISTED_PERSONS);
    <span class="predefined-type">String</span> currentList = ListObserver.getCurrentListName();
    <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(currentList + MESSAGE_SUCCESS);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Specifically for <code>blacklist</code> command, it calls the <code>getFiltererdBlacklistedPersons()</code> method residing in the <code>Logic</code> interface. <code>LogicManager</code> subsequently calls <code>Model</code> interface. <code>Model</code> uses <code>ModelManager</code> class to handle the command and thereafter calls <code>ReadOnlyAddressBook</code> interface to handle the request. <code>ReadOnlyAddressBook</code> uses <code>AddressBook</code> class to handle this request.</p>
</div>
<div class="paragraph">
<p>In the <code>AddressBook</code> class, there is only one <code>persons</code> variable that stores all <code>ReadOnlyPerson</code> class objects. The blacklisted persons are obtained by running a check on all debtors residing in this variable. The check is executed using the <code>asObservableBlacklist()</code> method, as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ObservableList&lt;ReadOnlyPerson&gt; asObservableBlacklist() {
    <span class="keyword">return</span> FXCollections.unmodifiableObservableList(mappedList.stream()
            .filter(person -&gt; person.isBlacklisted()).collect(toCollection(FXCollections::observableArrayList)));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Although this way of implementation seems inefficient, it supports robust synchronisation among the various other lists. For example, if a person is deleted from the masterlist, he will also be deleted from the blacklist. Likewise for various other commands that changes the <code>ReadOnlyPerson</code> object. Thus, it is efficient in this aspect. Moreover, this implementation sets the groundwork for future implementations of various other lists.</p>
</div>
<div class="paragraph">
<p>One other important aspect to this implementation is that commands now have exclusive control over the list. This means that commands will only work on the persons in the current displayed list. For example, <code>find</code> command will only search and find persons in the current displayed list. It will not try to search in the masterlist, where all the contacts are stored. <code>sort</code> command will only sort the persons in the current displayed list. If the current displayed list is the blacklist, the output of the <code>sort</code> command will just be a list of sorted blacklisted persons.</p>
</div>
<div class="paragraph">
<p>However, if a <code>Person</code> is modified by a command, the modification will be reflected across all other lists. For example, if a person exists in both the blacklist and the overdue list, modifications done by an <code>edit</code> command in the blacklist will also update the overdue list. These changes can be observed when the user switches to the overdue list using the <code>overduelist</code> command.</p>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations:</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Syncing of lists<br>
<strong>Alternative 1 (current choice):</strong> Use manual syncing methods to ensure lists are in sync<br>
<strong>Pros:</strong> Easy to extend for future implementations.<br>
<strong>Cons:</strong> Methods used for syncing are less intuitive and difficult to comprehend.<br>
<strong>Alternative 2:</strong> Create new <code>persons</code> variable for each list in <code>Addressbook</code> class<br>
<strong>Pros:</strong> Implementation is easier to comprehend.<br>
<strong>Cons:</strong> Waste of memory compared to current implementation which only has 1 <code>persons</code> variable in <code>Addressbook</code> class.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-repaid-command"><a class="link" href="#enhancement-added-repaid-command">Enhancement Added: Repaid command</a></h3>
<div class="sect3">
<h4 id="external-behavior-2"><a class="link" href="#external-behavior-2">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resetting-the-debt-of-a-person-code-repaid-code"><a class="link" href="#resetting-the-debt-of-a-person-code-repaid-code">Resetting the debt of a person: <code>repaid</code></a></h3>
<div class="paragraph">
<p>Resets the debt of a person to zero and sets the date repaid field of that person.<br>
Format: <code>repaid [INDEX]</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Resets the debt of the person at the specified <code>INDEX</code> to zero. The index refers to the index number shown in the last person listing. The index <strong>must be a positive integer</strong> (e.g. 1, 2, 3, â€¦â€‹)</p>
</li>
<li>
<p>If no index is specified, the debt of the currently selected person is resetted instead.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>repaid 1</code><br>
Resets the debt of the 1st person to zero and sets the date of repayment in his/her record.</p>
</li>
<li>
<p><code>select 2</code><br>
<code>repaid</code><br>
Resets the debt of the 2nd person to zero and sets the date of repayment in his/her record.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification"><a class="link" href="#justification">Justification</a></h4>
<div class="paragraph">
<p>A debt collector will have the job to record down the collections for the day from each debtor. If a debtor has paid off his/her total debt, there should be an easy way for the debt collector to update`debt`, <code>totalDebt</code>, <code>dateRepaid</code> and <code>isWhitelisted</code> fields of the debtor. That is the purpose of the <code>Repaid</code> command.</p>
</div>
<div class="paragraph">
<p>This is very similar to the <code>Payback</code> command, however, <code>Repaid</code> command excels in automating three different tasks so that life is indeed simpler for debt collectors to key in information in the system.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="repaid-command-mechanism"><a class="link" href="#repaid-command-mechanism">Repaid command mechanism</a></h3>
<div class="paragraph">
<p>The <code>repaid</code> command allow users to indicate that the specified debtor has completely repaid all of his/her debt. The <code>RepaidCommand</code> extends <code>UndoableCommand</code> so that it can be undone and redone if necessary.</p>
</div>
<div class="paragraph">
<p>The command executes using the index of the person the user wishes to update. However, indicating the index is optional if the person is the current selected person in the person list panel, as the index is internally provided by the selected person card.</p>
</div>
<div class="paragraph">
<p>The <code>RepaidCommand</code> is executed in <code>LogicManager</code>. It checks if the person selected has already repaid all his/her debt. If the person has done so, the command will then throw an <code>Exception</code> indicating that he/she has already repaid his/her debt.</p>
</div>
<div class="paragraph">
<p>If the person has not completely repaid his/her debt, <code>LogicManager</code> will then call the <code>Model</code> interface to execute a three-step process on that person, using a single method. <code>ModelManager</code> will firstly reset the person&#8217;s debt to zero.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ReadOnlyPerson resetPersonDebt(ReadOnlyPerson p) <span class="directive">throws</span> PersonNotFoundException {
    <span class="type">int</span> index;
    index = persons.getIndexOf(p);

    Person existingPerson = <span class="keyword">new</span> Person(p);
    <span class="keyword">try</span> {
        existingPerson.setDebt(<span class="keyword">new</span> Debt(Debt.DEBT_ZER0_VALUE));
    } <span class="keyword">catch</span> (IllegalValueException e) {
        <span class="keyword">assert</span> <span class="predefined-constant">false</span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">The target value cannot be of illegal value</span><span class="delimiter">&quot;</span></span>;
    }

    persons.remove(p);

    <span class="keyword">try</span> {
        persons.add(index, existingPerson);
    } <span class="keyword">catch</span> (DuplicatePersonException dpe) {
        <span class="keyword">assert</span> <span class="predefined-constant">false</span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">There should be no duplicate when resetting the debt of a person</span><span class="delimiter">&quot;</span></span>;
    }

    <span class="keyword">return</span> persons.getReadOnlyPerson(index);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Secondly, it will set the <code>dateRepaid</code> field of the person to the date the command was called.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ReadOnlyPerson setDateRepaid(ReadOnlyPerson p) <span class="directive">throws</span> PersonNotFoundException {
    <span class="type">int</span> index;
    index = persons.getIndexOf(p);

    Person existingPerson = <span class="keyword">new</span> Person(p);
    existingPerson.setDateRepaid(<span class="keyword">new</span> DateRepaid(formatDate(<span class="keyword">new</span> <span class="predefined-type">Date</span>())));

    persons.remove(p);

    <span class="keyword">try</span> {
        persons.add(index, existingPerson);
    } <span class="keyword">catch</span> (DuplicatePersonException dpe) {
        <span class="keyword">assert</span> <span class="predefined-constant">false</span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">There should be no duplicate when resetting the date repaid field of a person</span><span class="delimiter">&quot;</span></span>;
    }

    <span class="keyword">return</span> persons.getReadOnlyPerson(index);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, the person will be added into a list called <code>Whitelist</code>, given that he was not initially blacklisted.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ReadOnlyPerson addWhitelistedPerson(ReadOnlyPerson p) {
    <span class="type">int</span> index;
    index = persons.getIndexOf(p);

    Person newWhitelistedPerson = <span class="keyword">new</span> Person(p);
    newWhitelistedPerson.setIsWhitelisted(<span class="predefined-constant">true</span>);
    <span class="keyword">try</span> {
        updatePerson(p, newWhitelistedPerson);
    } <span class="keyword">catch</span> (DuplicatePersonException e) {
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">AssertionError</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">The target person cannot be a duplicate</span><span class="delimiter">&quot;</span></span>);
    } <span class="keyword">catch</span> (PersonNotFoundException e) {
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">AssertionError</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">This is not possible as prior checks have been done</span><span class="delimiter">&quot;</span></span>);
    }
    <span class="keyword">return</span> persons.getReadOnlyPerson(index);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>ModelManager</code> will then return the updated <code>ReadOnlyPerson</code> <code>Object</code> back to <code>LogicManager</code>.</p>
</div>
<div class="paragraph">
<p><strong>Aspect:</strong> Three-step process in one <code>Command</code><br>
<strong>Alternative 1 (current choice):</strong> The three-step process happens in a single method<br>
<strong>Pros:</strong> Faster and simpler to implement the method.<br>
<strong>Cons:</strong> Some methods will fail to update the person as intended. If the person is blacklisted, he/she will not be added into the whitelist.<br>
<strong>Alternative 2:</strong> Include three separate methods in <code>Model</code> interface to execute the three-step process<br>
<strong>Pros:</strong> Easy to observe the methods that will fail.<br>
<strong>Cons:</strong> Methods in <code>Model</code> interface will seem to have less abstraction than intended.<br></p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="enhancement-added-add-remove-profile-picture"><a class="link" href="#enhancement-added-add-remove-profile-picture">Enhancement Added: Add/Remove Profile Picture</a></h3>
<div class="sect3">
<h4 id="external-behavior-3"><a class="link" href="#external-behavior-3">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adding-a-profile-picture-to-a-person-code-addpic-code"><a class="link" href="#adding-a-profile-picture-to-a-person-code-addpic-code">Adding a profile picture to a person : <code>addpic</code></a></h3>
<div class="paragraph">
<p>Adds a user specified profile picture to the specified person.<br></p>
</div>
<div class="paragraph">
<p>A path to the pictures folder must first be set using the <code>setpath</code> command<br>
The picture of the debtor should already be present in this folder and should be named after the debtor himself.<br></p>
</div>
<div class="paragraph">
<p>Examples:<br></p>
</div>
<div class="paragraph">
<p>Roy Balakrishnan&#8217;s picture should be named as <code>RoyBalakrishnan</code> and the extension of the file should be <code>.jpg</code><br></p>
</div>
<div class="paragraph">
<p>Full file name: <code>RoyBalakrishnan.jpg</code><br></p>
</div>
<div class="paragraph">
<p>Herbert He&#8217;s picture should be named as <code>HerbertHe</code> and the extension of the file should be <code>.jpg</code><br></p>
</div>
<div class="paragraph">
<p>Full file name: <code>HerbertHe.jpg</code><br></p>
</div>
<div class="paragraph">
<p>Format to add picture to the selected person : 'addpic [INDEX]'</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Adds a profile picture to the person at the specified <code>INDEX</code>.</p>
</li>
<li>
<p>The index refers to the index number shown in the most recent listing.</p>
</li>
<li>
<p>The index <strong>must be a positive integer</strong> (e.g. 1, 2, 3, &#8230;&#8203;)</p>
</li>
<li>
<p>If no index is specified, the command acts on the currently selected person.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>list</code><br>
<code>setpath C:\Users\acer\Desktop\SE1\profilepic</code><br>
<code>addpic 2</code><br>
Adds a picture to the 2nd person in masterlist.</p>
</li>
<li>
<p><code>find Betsy</code><br>
<code>setpath C:\Users\acer\Desktop\SE2\profilepic</code><br>
<code>addpic 1</code><br>
Adds a profile picture to the 1st person from the results of the <code>find</code> command.</p>
</li>
<li>
<p><code>select 3</code><br>
<code>setpath C:\Users\acer\Desktop\SE7\profilepic</code><br>
<code>addpic</code><br>
Adds a profile picture to the 3rd person from the masterlist in the address book.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="deleting-the-profile-picture-of-a-person-code-delpic-code"><a class="link" href="#deleting-the-profile-picture-of-a-person-code-delpic-code">Deleting the profile picture of a person : <code>delpic</code></a></h3>
<div class="paragraph">
<p>Removes the profile picture of the specified person.<br>
Format: 'delpic [INDEX]'</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Removes the profile picture of the person at the specified <code>INDEX</code>.</p>
</li>
<li>
<p>The index refers to the index number shown in the most recent listing.</p>
</li>
<li>
<p>The index <strong>must be a positive integer</strong> (e.g. 1, 2, 3, &#8230;&#8203;)</p>
</li>
<li>
<p>If no index is specified, the command acts on currently selected person.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>list</code><br>
<code>delpic 2</code><br>
Deletes the picture of the 2nd person in masterlist.</p>
</li>
<li>
<p><code>find Betsy</code><br>
<code>delpic 1</code><br>
Deletes the profile picture of the 1st person from the results of the <code>find</code> command.</p>
</li>
<li>
<p><code>select 3</code><br>
<code>delpic</code><br>
Deletes the profile picture of the 3rd person from the masterlist in the address book.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-2"><a class="link" href="#justification-2">Justification</a></h4>
<div class="paragraph">
<p>A debt collector might need to conduct house visits to collect debts from people. Thus, having commands that allow the user to add/remove pictures for each individual debtors helps him/her quickly identify a specific debtor during official house visits.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="setpath-addpic-delpic-command-mechanism"><a class="link" href="#setpath-addpic-delpic-command-mechanism">Setpath/Addpic/Delpic command mechanism</a></h3>
<div class="paragraph">
<p><code>Setpath</code>, <code>Addpic</code> and <code>Delpic</code> commands facilitate updating a debtor&#8217;s display picture. <code>Setpath</code> command sets the <code>path</code> to a folder that contains <code>JPG</code> format images of the debtors. This folder resides in the user&#8217;s workspace.</p>
</div>
<div class="paragraph">
<p>The images in the folder must initially be named after the debtors themselves. For example, a debtor named Alex Yeoh should have an image titled <code>AlexYeoh.jpg</code> in this folder.</p>
</div>
<div class="paragraph">
<p><code>Setpath</code> command modifies the destined <code>path</code> in the <code>ProfilePicturesFolder</code> <code>class</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> CommandResult executeUndoableCommand() <span class="directive">throws</span> CommandException {
    ProfilePicturesFolder.setPath(reformatPath(path));
    <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(MESSAGE_SUCCESS);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Addpic</code> command takes in an index as the input and uses <code>Logic</code> interface to execute a two-step process to update the person&#8217;s display picture status. <code>LogicManager</code> calls <code>Model</code> interface to first search for the image in the path directory set by the <code>SetPath</code> command. This is done by first establishing the name of the image, and then searching for it in the required folder.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">boolean</span> addProfilePicture(ReadOnlyPerson person) <span class="directive">throws</span> ProfilePictureNotFoundException {
        <span class="predefined-type">String</span> imageName = person.getName().toString().replaceAll(<span class="string"><span class="delimiter">&quot;</span><span class="char">\\</span><span class="content">s+</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>);
        <span class="predefined-type">File</span> imageFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(ProfilePicturesFolder.getPath() + imageName + JPG_EXTENSION);

        <span class="keyword">if</span> (imageFile.exists()) {
            addressBook.addProfilePic(person);
            indicateAddressBookChanged();
            <span class="keyword">return</span> <span class="predefined-constant">true</span>;
        } <span class="keyword">else</span> {
            <span class="keyword">throw</span> <span class="keyword">new</span> ProfilePictureNotFoundException();
        }
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>ModelManager</code> checks if the image exists in the path directory. If it does, it will then set the boolean value of the person&#8217;s <code>hasDisplayPicture</code> variable to true.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ReadOnlyPerson addProfilePic(ReadOnlyPerson person) {
        <span class="type">int</span> index;
        index = persons.getIndexOf(person);

        Person newUpdatedPerson = <span class="keyword">new</span> Person(person);
        newUpdatedPerson.setHasDisplayPicture(<span class="predefined-constant">true</span>);
        <span class="keyword">try</span> {
            updatePerson(person, newUpdatedPerson);
        } <span class="keyword">catch</span> (DuplicatePersonException e) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">AssertionError</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">The target person cannot be a duplicate</span><span class="delimiter">&quot;</span></span>);
        } <span class="keyword">catch</span> (PersonNotFoundException e) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">AssertionError</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">This is not possible as prior checks have been done</span><span class="delimiter">&quot;</span></span>);
        }

        <span class="keyword">return</span> persons.getReadOnlyPerson(index);
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the <code>PersonCard</code> corresponding to the person is selected, <code>hasDisplayPicture</code> boolean value is obtained. If the value is <code>true</code>, the image will be retrieved from the previously set <code>path</code>. If it does not exist, a default image will be displayed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> DebtorProfilePicture(ReadOnlyPerson person) {
        <span class="local-variable">super</span>(FXML);
        <span class="predefined-type">String</span> imageName = person.getName().toString().replaceAll(<span class="string"><span class="delimiter">&quot;</span><span class="char">\\</span><span class="content">s+</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>);
        <span class="predefined-type">String</span> imagePath = DEFAULT_PROFILEPIC_PATH;
        <span class="predefined-type">Image</span> image = <span class="keyword">new</span> <span class="predefined-type">Image</span>(getClass().getResource(imagePath).toExternalForm());

        <span class="keyword">if</span> (person.hasDisplayPicture()) {

            imagePath = ProfilePicturesFolder.getPath() + imageName + JPG_EXTENSION;
            <span class="predefined-type">File</span> imageFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(imagePath);

            <span class="keyword">if</span> (!imageFile.exists()) {
                person.setHasDisplayPicture(<span class="predefined-constant">false</span>);
                raise(<span class="keyword">new</span> MissingDisplayPictureEvent(person));
            } <span class="keyword">else</span> {
                <span class="keyword">try</span> {
                    image = <span class="keyword">new</span> <span class="predefined-type">Image</span>(imageFile.toURI().toURL().toExternalForm());
                } <span class="keyword">catch</span> (<span class="exception">MalformedURLException</span> e) {
                    e.printStackTrace();
                }
            }
        }

        profilePic.setImage(image);
        profilePic.setFitWidth(<span class="integer">450</span>);
        profilePic.setFitHeight(<span class="integer">450</span>);
        profilePicPlaceHolder.setTopAnchor(<span class="local-variable">this</span>.getImageView(), <span class="float">20.0</span>);
        profilePicPlaceHolder.setRightAnchor(<span class="local-variable">this</span>.getImageView(), <span class="float">50.0</span>);
        registerAsAnEventHandler(<span class="local-variable">this</span>);
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Delpic</code> command, similarly, resets the person&#8217;s <code>hasDisplayPicture</code> boolean value to false.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ReadOnlyPerson removeProfilePic(ReadOnlyPerson person) {
        <span class="type">int</span> index;
        index = persons.getIndexOf(person);

        Person newUpdatedPerson = <span class="keyword">new</span> Person(person);
        newUpdatedPerson.setHasDisplayPicture(<span class="predefined-constant">false</span>);
        <span class="keyword">try</span> {
            updatePerson(person, newUpdatedPerson);
        } <span class="keyword">catch</span> (DuplicatePersonException e) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">AssertionError</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">The target person cannot be a duplicate</span><span class="delimiter">&quot;</span></span>);
        } <span class="keyword">catch</span> (PersonNotFoundException e) {
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">AssertionError</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">This is not possible as prior checks have been done</span><span class="delimiter">&quot;</span></span>);
        }

        <span class="keyword">return</span> persons.getReadOnlyPerson(index);
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Aspect:</strong> Storage of profile pictures in Codii<br>
<strong>Alternative 1 (current choice):</strong> Images are not stored in Codii as they are read from the path directory provided by the user<br>
<strong>Pros:</strong> Straightforward and simpler to implement.<br>
<strong>Cons:</strong> Application cannot be easily transferred from one workstation to another.<br>
<strong>Alternative 2:</strong> Store images in Codii similar to how XML files are stored<br>
<strong>Pros:</strong> Far less hassle in transferring application content to another workstation.<br>
<strong>Cons:</strong> The result of both implementations are very similar. However, this implementation is harder to execute.<br></p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">Other contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p>Set up sync between all commands and all lists (masterlist/blacklist/whitelist) (<a href="https://github.com/CS2103AUG2017-T17-B1/main/pull/166" class="bare">https://github.com/CS2103AUG2017-T17-B1/main/pull/166</a>)</p>
</li>
<li>
<p>Create a dateRepaid field (<a href="https://github.com/CS2103AUG2017-T17-B1/main/pull/54" class="bare">https://github.com/CS2103AUG2017-T17-B1/main/pull/54</a>)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-wiredin"><a class="link" href="#project-wiredin">Project: WiredIn</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>[<a href="https://github.com/archthegit/wiredInV0/">WiredIn</a>] is a web application that collates raw csv files from various banks and displays the information variedly in a visually pleasing manner. This application was developed with [<a href="https://github.com/archthegit/">Archana Pradeep</a>] for [<a href="http://nusskylab-dev.comp.nus.edu.sg/">CP2106 Independent Software Development Project (Orbital)</a>].</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-13 14:19:23 +00:00
</div>
</div>
</body>
</html>