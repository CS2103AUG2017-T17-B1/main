<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Codii - Developer Guide</title>
<link rel="stylesheet" href="stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Codii - Developer Guide</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>By: <code>CS2103AUG2017 T17-B1</code>      Since: <code>Sep 2017</code>      Licence: <code>MIT</code></p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#setting-up">2. Setting up</a>
<ul class="sectlevel2">
<li><a href="#prerequisites">2.1. Prerequisites</a></li>
<li><a href="#setting-up-the-project-in-your-computer">2.2. Setting up the project in your computer</a></li>
<li><a href="#verifying-the-setup">2.3. Verifying the setup</a></li>
<li><a href="#configurations-to-do-before-writing-code">2.4. Configurations to do before writing code</a></li>
</ul>
</li>
<li><a href="#design">3. Design</a>
<ul class="sectlevel2">
<li><a href="#architecture">3.1. Architecture</a></li>
<li><a href="#ui-component">3.2. UI component</a></li>
<li><a href="#logic-component">3.3. Logic component</a></li>
<li><a href="#model-component">3.4. Model component</a></li>
<li><a href="#storage-component">3.5. Storage component</a></li>
<li><a href="#common-classes">3.6. Common classes</a></li>
</ul>
</li>
<li><a href="#implementation">4. Implementation</a>
<ul class="sectlevel2">
<li><a href="#undo-redo-mechanism">4.1. Undo/Redo mechanism</a></li>
<li><a href="#borrow-payback-command-mechanism">4.2. Borrow/payback command mechanism</a></li>
<li><a href="#backup-storage-mechanism">4.3. Backup storage mechanism</a></li>
<li><a href="#date-storing-mechanism">4.4. Date storing mechanism</a></li>
<li><a href="#list-masterlist-blacklist-etc-mechanism">4.5. List (Masterlist, Blacklist, etc.) mechanism</a></li>
<li><a href="#cluster-mechanism">4.6. Cluster mechanism</a></li>
<li><a href="#filter-by-tags-mechanism">4.7. Filter by tags mechanism</a></li>
<li><a href="#login-logout-mechanism">4.8. Login/logout mechanism</a></li>
<li><a href="#sorting-mechanism">4.9. Sorting mechanism</a></li>
<li><a href="#optional-command-indexes">4.10. Optional command indexes</a></li>
<li><a href="#interest-calculator-mechanism">4.11. Interest Calculator Mechanism</a></li>
<li><a href="#theme-changing-mechanism">4.12. Theme Changing Mechanism</a></li>
<li><a href="#logging">4.13. Logging</a></li>
<li><a href="#configuration">4.14. Configuration</a></li>
</ul>
</li>
<li><a href="#documentation">5. Documentation</a>
<ul class="sectlevel2">
<li><a href="#editing-documentation">5.1. Editing Documentation</a></li>
<li><a href="#publishing-documentation">5.2. Publishing Documentation</a></li>
<li><a href="#converting-documentation-to-pdf-format">5.3. Converting Documentation to PDF format</a></li>
</ul>
</li>
<li><a href="#testing">6. Testing</a>
<ul class="sectlevel2">
<li><a href="#running-tests">6.1. Running Tests</a></li>
<li><a href="#types-of-tests">6.2. Types of tests</a></li>
<li><a href="#troubleshooting-testing">6.3. Troubleshooting Testing</a></li>
</ul>
</li>
<li><a href="#dev-ops">7. Dev Ops</a>
<ul class="sectlevel2">
<li><a href="#build-automation">7.1. Build Automation</a></li>
<li><a href="#continuous-integration">7.2. Continuous Integration</a></li>
<li><a href="#making-a-release">7.3. Making a Release</a></li>
<li><a href="#managing-dependencies">7.4. Managing Dependencies</a></li>
</ul>
</li>
<li><a href="#suggested-programming-tasks-to-get-started">Appendix A: Suggested Programming Tasks to Get Started</a>
<ul class="sectlevel2">
<li><a href="#improving-each-component">A.1. Improving each component</a></li>
<li><a href="#creating-a-new-command-code-remark-code">A.2. Creating a new command: <code>remark</code></a></li>
</ul>
</li>
<li><a href="#user-stories">Appendix B: User Stories</a></li>
<li><a href="#use-cases">Appendix C: Use Cases</a></li>
<li><a href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></li>
<li><a href="#glossary">Appendix E: Glossary</a></li>
<li><a href="#product-survey">Appendix F: Product Survey</a></li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">1. Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Codii is an address book application specifically designed for debt collectors to manage debts and debtors efficiently. It provides the necessary tools to keep track of interests, debts and important dates such as repayment deadlines.
This developer guide provides detailed information for future contributors to improve on the current code base, testing and documentation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up"><a class="link" href="#setting-up">2. Setting up</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="prerequisites"><a class="link" href="#prerequisites">2.1. Prerequisites</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>JDK <code>1.8.0_60</code></strong> or later</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Having any Java 8 version is not enough.<br>
This app will not work with earlier versions of Java 8.
</td>
</tr>
</table>
</div>
</li>
<li>
<p><strong>IntelliJ</strong> IDE</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
IntelliJ by default has Gradle and JavaFx plugins installed.<br>
Do not disable them. If you have disabled them, go to <code>File</code> &gt; <code>Settings</code> &gt; <code>Plugins</code> to re-enable them.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="setting-up-the-project-in-your-computer"><a class="link" href="#setting-up-the-project-in-your-computer">2.2. Setting up the project in your computer</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Fork this repo, and clone the fork to your computer</p>
</li>
<li>
<p>Open IntelliJ (if you are not in the welcome screen, click <code>File</code> &gt; <code>Close Project</code> to close the existing project dialog first)</p>
</li>
<li>
<p>Set up the correct JDK version for Gradle</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click <code>Configure</code> &gt; <code>Project Defaults</code> &gt; <code>Project Structure</code></p>
</li>
<li>
<p>Click <code>New&#8230;&#8203;</code> and find the directory of the JDK</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click <code>Import Project</code></p>
</li>
<li>
<p>Locate the <code>build.gradle</code> file and select it. Click <code>OK</code></p>
</li>
<li>
<p>Click <code>Open as Project</code></p>
</li>
<li>
<p>Click <code>OK</code> to accept the default settings</p>
</li>
<li>
<p>Open a console and run the command <code>gradlew processResources</code> (Mac/Linux: <code>./gradlew processResources</code>). It should finish with the <code>BUILD SUCCESSFUL</code> message.<br>
This will generate all resources required by the application and tests.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="verifying-the-setup"><a class="link" href="#verifying-the-setup">2.3. Verifying the setup</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the <code>seedu.address.MainApp</code> and try a few commands</p>
</li>
<li>
<p><a href="#testing">Run the tests</a> to ensure they all pass.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configurations-to-do-before-writing-code"><a class="link" href="#configurations-to-do-before-writing-code">2.4. Configurations to do before writing code</a></h3>
<div class="sect3">
<h4 id="configuring-the-coding-style"><a class="link" href="#configuring-the-coding-style">2.4.1. Configuring the coding style</a></h4>
<div class="paragraph">
<p>This project follows <a href="https://github.com/oss-generic/process/blob/master/docs/CodingStandards.md">oss-generic coding standards</a>. IntelliJ&#8217;s default style is mostly compliant with ours but it uses a different import order from ours. To rectify,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to <code>File</code> &gt; <code>Settings&#8230;&#8203;</code> (Windows/Linux), or <code>IntelliJ IDEA</code> &gt; <code>Preferences&#8230;&#8203;</code> (macOS)</p>
</li>
<li>
<p>Select <code>Editor</code> &gt; <code>Code Style</code> &gt; <code>Java</code></p>
</li>
<li>
<p>Click on the <code>Imports</code> tab to set the order</p>
<div class="ulist">
<ul>
<li>
<p>For <code>Class count to use import with '*'</code> and <code>Names count to use static import with '*'</code>: Set to <code>999</code> to prevent IntelliJ from contracting the import statements</p>
</li>
<li>
<p>For <code>Import Layout</code>: The order is <code>import static all other imports</code>, <code>import java.*</code>, <code>import javax.*</code>, <code>import org.*</code>, <code>import com.*</code>, <code>import all other imports</code>. Add a <code>&lt;blank line&gt;</code> between each <code>import</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Optionally, you can follow the <a href="UsingCheckstyle.html">UsingCheckstyle.adoc</a> document to configure Intellij to check style-compliance as you write code.</p>
</div>
</div>
<div class="sect3">
<h4 id="updating-documentation-to-match-your-fork"><a class="link" href="#updating-documentation-to-match-your-fork">2.4.2. Updating documentation to match your fork</a></h4>
<div class="paragraph">
<p>After forking the repo, links in the documentation will still point to the <code>se-edu/addressbook-level4</code> repo. If you plan to develop this as a separate product (i.e. instead of contributing to the <code>se-edu/addressbook-level4</code>) , you should replace the URL in the variable <code>repoURL</code> in <code>DeveloperGuide.adoc</code> and <code>UserGuide.adoc</code> with the URL of your fork.</p>
</div>
</div>
<div class="sect3">
<h4 id="setting-up-ci"><a class="link" href="#setting-up-ci">2.4.3. Setting up CI</a></h4>
<div class="paragraph">
<p>Set up Travis to perform Continuous Integration (CI) for your fork. See <a href="UsingTravis.html">UsingTravis.adoc</a> to learn how to set it up.</p>
</div>
<div class="paragraph">
<p>Optionally, you can set up AppVeyor as a second CI (see <a href="UsingAppVeyor.html">UsingAppVeyor.adoc</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Having both Travis and AppVeyor ensures your App works on both Unix-based platforms and Windows-based platforms (Travis is Unix-based and AppVeyor is Windows-based)
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-with-coding"><a class="link" href="#getting-started-with-coding">2.4.4. Getting started with coding</a></h4>
<div class="paragraph">
<p>When you are ready to start coding:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Get some sense of the overall design by reading the <a href="#architecture">Architecture</a> section.</p>
</li>
<li>
<p>Take a look at the section <a href="#suggested-programming-tasks-to-get-started">Suggested Programming Tasks to Get Started</a>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design"><a class="link" href="#design">3. Design</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="architecture"><a class="link" href="#architecture">3.1. Architecture</a></h3>
<div class="paragraph">
<p>Figure 3.1.1 below explains the high-level design of the App. Given below is a quick overview of each component.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Architecture.png" alt="Architecture" width="600">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.1.1 : Architecture diagram</em></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <code>.pptx</code> files used to create diagrams in this document can be found in the <a href="https://github.com/CS2103AUG2017-T17-B1/main/docs/diagrams/">diagrams</a> folder. To update a diagram, modify the diagram in the pptx file, select the objects of the diagram, and choose <code>Save as picture</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>Main</code> has only one class called <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/MainApp.java"><code>MainApp</code></a>. It is responsible for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At app launch: Initializes the components in the correct sequence, and connects them up with each other.</p>
</li>
<li>
<p>At shut down: Shuts down the components and invokes cleanup method where necessary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#common-classes"><strong><code>Commons</code></strong></a> represents a collection of classes used by multiple other components. Two of those classes play important roles at the architecture level:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>EventsCenter</code> : This class (written using <a href="https://github.com/google/guava/wiki/EventBusExplained">Google&#8217;s Event Bus library</a>) is used by components to communicate with other components using events (i.e. a form of <em>Event Driven</em> design)</p>
</li>
<li>
<p><code>LogsCenter</code> : Used by many classes to write log messages to the App&#8217;s log file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The rest of the App consists of four components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#ui-component"><strong><code>UI</code></strong></a> : The UI of the App.</p>
</li>
<li>
<p><a href="#logic-component"><strong><code>Logic</code></strong></a> : The command executor.</p>
</li>
<li>
<p><a href="#model-component"><strong><code>Model</code></strong></a> : Holds the data of the App in-memory.</p>
</li>
<li>
<p><a href="#storage-component"><strong><code>Storage</code></strong></a> : Reads data from, and writes data to, the hard disk.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of the four components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Defines its <em>API</em> in an <code>interface</code> with the same name as the Component.</p>
</li>
<li>
<p>Exposes its functionality using a <code>{Component Name}Manager</code> class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the <code>Logic</code> component (see Figure 3.1.2 below) defines it&#8217;s API in the <code>Logic.java</code> interface and exposes its functionality using the <code>LogicManager.java</code> class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.1.2 : Class diagram of the <code>Logic</code> component</em></p>
</div>
<h4 id="events-driven-nature-of-the-design" class="discrete">Events-Driven nature of the design</h4>
<div class="paragraph">
<p>Figure 3.1.3a below shows how the components interact for the scenario where the user issues the command <code>delete 1</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SDforDeletePerson.png" alt="SDforDeletePerson" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.1.3a : Component interactions for <code>delete 1</code> command (part 1)</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Note how the <code>Model</code> simply raises a <code>AddressBookChangedEvent</code> when the Address Book data are changed, instead of asking the <code>Storage</code> to save the updates to the hard disk.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Figure 3.1.3b below shows how the <code>EventsCenter</code> reacts to that event, which eventually results in the updates being saved to the hard disk and the status bar of the UI being updated to reflect the 'Last Updated' time.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SDforDeletePersonEventHandling.png" alt="SDforDeletePersonEventHandling" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.1.3b : Component interactions for <code>delete 1</code> command (part 2)</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Note how the event is propagated through the <code>EventsCenter</code> to the <code>Storage</code> and <code>UI</code> without <code>Model</code> having to be coupled to either of them. This is an example of how this Event Driven approach helps us reduce direct coupling between components.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The sections below give more details of each component.</p>
</div>
</div>
<div class="sect2">
<h3 id="ui-component"><a class="link" href="#ui-component">3.2. UI component</a></h3>
<div class="paragraph">
<p>As shown in Figure 3.2.1 below, the <code>UI</code> consists of a <code>MainWindow</code> that is made up of parts e.g.<code>CommandBox</code>, <code>ResultDisplay</code>, <code>PersonListPanel</code>, <code>StatusBarFooter</code>, <code>BrowserPanel</code> etc. All these, including the <code>MainWindow</code>, inherit from the abstract <code>UiPart</code> class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UiClassDiagram.png" alt="UiClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.2.1 : Structure of the <code>UI</code> component</em></p>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/Ui.java"><code>Ui.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component uses JavaFx UI framework. The layout of these UI parts are defined in matching <code>.fxml</code> files that are in the <code>src/main/resources/view</code> folder. For example, the layout of the <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/MainWindow.java"><code>MainWindow</code></a> is specified in <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/resources/view/MainWindow.fxml"><code>MainWindow.fxml</code></a></p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Executes user commands using the <code>Logic</code> component.</p>
</li>
<li>
<p>Binds itself to some data in the <code>Model</code> so that the UI can auto-update when data in the <code>Model</code> change.</p>
</li>
<li>
<p>Responds to events raised from various parts of the App and updates the UI accordingly.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="logic-component"><a class="link" href="#logic-component">3.3. Logic component</a></h3>
<div class="paragraph">
<p>Figure 3.3.1 shows the structure of the <code>Logic</code> component, while Figure 3.3.2 shows finer  details concerning <code>XYZCommand</code> and <code>Command</code> in Figure 3.3.1.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.3.1 : Structure of the <code>Logic</code> component</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicCommandClassDiagram.png" alt="LogicCommandClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.3.2 : Structure of commands in the <code>Logic</code> component</em></p>
</div>
<div class="paragraph">
<p><strong>API</strong> :
<a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/logic/Logic.java"><code>Logic.java</code></a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Logic</code> uses the <code>AddressBookParser</code> class to parse the user command.</p>
</li>
<li>
<p>This results in a <code>Command</code> object which is executed by the <code>LogicManager</code>.</p>
</li>
<li>
<p>The command execution can affect the <code>Model</code> (e.g. adding a person) and/or raise events.</p>
</li>
<li>
<p>The result of the command execution is encapsulated as a <code>CommandResult</code> object which is passed back to the <code>UI</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Figure 3.3.3 below shows the interactions within the <code>Logic</code> component for the <code>execute("delete 1")</code> API call.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeletePersonSdForLogic.png" alt="DeletePersonSdForLogic" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.3.3 : Sequence diagram for interactions inside the <code>Logic</code> component for the <code>delete 1</code> command</em></p>
</div>
</div>
<div class="sect2">
<h3 id="model-component"><a class="link" href="#model-component">3.4. Model component</a></h3>
<div class="paragraph">
<p>Figure 3.4.1 below shows the structure of the <code>Model</code> component.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ModelClassDiagram.png" alt="ModelClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.4.1 : Structure of the <code>Model</code> component</em></p>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/model/Model.java"><code>Model.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Model</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <code>UserPref</code> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>stores the Address Book data.</p>
</li>
<li>
<p>exposes an unmodifiable <code>ObservableList&lt;ReadOnlyPerson&gt;</code> that can be 'observed' e.g. the UI can be bound to this list so that the UI automatically updates when the data in the list change.</p>
</li>
<li>
<p>does not depend on any of the other three components.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="storage-component"><a class="link" href="#storage-component">3.5. Storage component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/StorageClassDiagram.png" alt="StorageClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.5.1 : Structure of the <code>Storage</code> component</em></p>
</div>
<div class="paragraph">
<p>Figure 3.5.1 shows the structure of the <code>Storage</code> component.</p>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/storage/Storage.java"><code>Storage.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Storage</code> component:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>can save <code>UserPref</code> objects in json format and read it back.</p>
</li>
<li>
<p>can save the Address Book data in xml format and read it back.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="common-classes"><a class="link" href="#common-classes">3.6. Common classes</a></h3>
<div class="paragraph">
<p>Classes used by multiple components are in the <code>seedu.addressbook.commons</code> package.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation"><a class="link" href="#implementation">4. Implementation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes some noteworthy details on how certain features are implemented.</p>
</div>
<div class="sect2">
<h3 id="undo-redo-mechanism"><a class="link" href="#undo-redo-mechanism">4.1. Undo/Redo mechanism</a></h3>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by an <code>UndoRedoStack</code>, which resides inside <code>LogicManager</code>. It supports undoing and redoing of commands that modifies the state of the address book (e.g. <code>add</code>, <code>edit</code>). Such commands will inherit from <code>UndoableCommand</code>.</p>
</div>
<div class="paragraph">
<p><code>UndoRedoStack</code> only deals with <code>UndoableCommands</code>. Commands that cannot be undone will inherit from <code>Command</code> instead.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicCommandClassDiagram.png" alt="LogicCommandClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.1: Inheritance diagram for commands</em></p>
</div>
<div class="paragraph">
<p>As you can see from Figure 4.1.1, <code>UndoableCommand</code> adds an extra layer between the abstract <code>Command</code> class and concrete commands that can be undone, such as the <code>DeleteCommand</code>. Note that extra tasks need to be done when executing a command in an <em>undoable</em> way, such as saving the state of the address book before execution. <code>UndoableCommand</code> contains the high-level algorithm for those extra tasks while the child classes implements the details of how to execute the specific command. Note that this technique of putting the high-level algorithm in the parent class and lower-level steps of the algorithm in child classes is also known as the <a href="https://www.tutorialspoint.com/design_pattern/template_pattern.htm">template pattern</a>.</p>
</div>
<div class="paragraph">
<p>Commands that are not undoable are implemented this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ListCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() {
        <span class="comment">// ... list logic ...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With the extra layer, the commands that are undoable are implemented this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">abstract</span> <span class="type">class</span> <span class="class">UndoableCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() {
        <span class="comment">// ... undo logic ...</span>

        executeUndoableCommand();
    }
}

<span class="directive">public</span> <span class="type">class</span> <span class="class">DeleteCommand</span> <span class="directive">extends</span> UndoableCommand {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult executeUndoableCommand() {
        <span class="comment">// ... delete logic ...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Suppose that the user has just launched the application. The <code>UndoRedoStack</code> will be empty at the beginning.</p>
</div>
<div class="paragraph">
<p>The user executes a new <code>UndoableCommand</code>, <code>delete 5</code>, to delete the 5th person in the address book. The current state of the address book is saved before the <code>delete 5</code> command executes. The <code>delete 5</code> command will then be pushed onto the <code>undoStack</code> (the current state is saved together with the command). This is shown in Figure 4.1.2a.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoStartingStackDiagram.png" alt="UndoRedoStartingStackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.2a: Adding a new <code>UndoableCommand</code> to an <code>UndoRedoStack</code> that is empty</em></p>
</div>
<div class="paragraph">
<p>As the user continues to use the program, more commands are added into the <code>undoStack</code>. For example, the user may execute <code>add n/David &#8230;&#8203;</code> to add a new person. This is shown in Figure 4.1.2b.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand1StackDiagram.png" alt="UndoRedoNewCommand1StackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.2b: Adding another <code>UndoableCommand</code> to <code>UndoRedoStack</code> that is not empty</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a command fails its execution, it will not be pushed to the <code>UndoRedoStack</code> at all.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The user now decides that adding the person was a mistake, and decides to undo that action using <code>undo</code>.</p>
</div>
<div class="paragraph">
<p>We will pop the most recent command out of the <code>undoStack</code> and push it back to the <code>redoStack</code>. We will restore the address book to the state before the <code>add</code> command executed. This is shown in Figure 4.1.2c.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoExecuteUndoStackDiagram.png" alt="UndoRedoExecuteUndoStackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.2c: Undoing a command</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>undoStack</code> is empty, then there are no other commands left to be undone, and an <code>Exception</code> will be thrown when popping the <code>undoStack</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Figure 4.1.2d shows how the undo operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoSequenceDiagram.png" alt="UndoRedoSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.2d: Sequence diagram for <code>Undo</code> command</em></p>
</div>
<div class="paragraph">
<p>The redo does the exact opposite (pops from <code>redoStack</code>, push to <code>undoStack</code>, and restores the address book to the state after the command is executed).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>redoStack</code> is empty, then there are no other commands left to be redone, and an <code>Exception</code> will be thrown when popping the <code>redoStack</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The user now decides to execute a new command, <code>clear</code>. As before, <code>clear</code> will be pushed into the <code>undoStack</code>. This time the <code>redoStack</code> is no longer empty. It will be purged as it no longer make sense to redo the <code>add n/David</code> command. This is shown in Figure 4.1.2e.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand2StackDiagram.png" alt="UndoRedoNewCommand2StackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.2e: Adding a new command when <code>redoStack</code> is not empty</em></p>
</div>
<div class="paragraph">
<p>Commands that are not undoable are not added into the <code>undoStack</code>. For example, <code>list</code>, which inherits from <code>Command</code> rather than <code>UndoableCommand</code>, will not be added after execution. This is shown in Figure 4.1.2f.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand3StackDiagram.png" alt="UndoRedoNewCommand3StackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.2f: Executing a non-undoable command</em></p>
</div>
<div class="paragraph">
<p>Figure 4.1.2g below summarizes what happens inside the <code>UndoRedoStack</code> when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoActivityDiagram.png" alt="UndoRedoActivityDiagram" width="200">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.2g: <code>UndoRedoStack</code> activity diagram</em></p>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">4.1.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of <code>UndoableCommand</code><br>
<strong>Alternative 1 (current choice):</strong> Add a new abstract method <code>executeUndoableCommand()</code><br>
<strong>Pros:</strong> We will not lose any undone/redone functionality as it is now part of the default behaviour. Classes that deal with <code>Command</code> do not have to know that <code>executeUndoableCommand()</code> exist.<br>
<strong>Cons:</strong> Hard for new developers to understand the template pattern.<br>
<strong>Alternative 2:</strong> Just override <code>execute()</code><br>
<strong>Pros:</strong> Does not involve the template pattern, easier for new developers to understand.<br>
<strong>Cons:</strong> Classes that inherit from <code>UndoableCommand</code> must remember to call <code>super.execute()</code>, or lose the ability to undo/redo.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> How undo &amp; redo executes<br>
<strong>Alternative 1 (current choice):</strong> Saves the entire address book<br>
<strong>Pros:</strong> Easy to implement.<br>
<strong>Cons:</strong> May have performance issues in terms of memory usage.<br>
<strong>Alternative 2:</strong> Individual command knows how to undo/redo by itself<br>
<strong>Pros:</strong> Will use less memory (e.g. for <code>delete</code>, just save the person being deleted).<br>
<strong>Cons:</strong> We must ensure that the implementation of each individual command are correct.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Type of commands that can be undone/redone<br>
<strong>Alternative 1 (current choice):</strong> Only include commands that modifies the address book (e.g. <code>add</code>, <code>clear</code>, <code>edit</code>)<br>
<strong>Pros:</strong> We only revert changes that are hard to change back (the view can easily be re-modified as no data are lost).<br>
<strong>Cons:</strong> User might think that undo also applies when the list is modified (undoing filtering for example), only to realize that it does not do that, after executing <code>undo</code>.<br>
<strong>Alternative 2:</strong> Include all commands<br>
<strong>Pros:</strong> Might be more intuitive for the user.<br>
<strong>Cons:</strong> User have no way of skipping such commands if he or she just want to reset the state of the address book and not the view.<br>
<strong>Additional Info:</strong> See our discussion  <a href="https://github.com/se-edu/addressbook-level4/issues/390#issuecomment-298936672">here</a>.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Data structure to support the undo/redo commands<br>
<strong>Alternative 1 (current choice):</strong> Use separate stack for undo and redo<br>
<strong>Pros:</strong> Easy to understand for new Computer Science student undergraduates to understand, who are likely to be the new incoming developers of our project.<br>
<strong>Cons:</strong> Logic is duplicated twice. For example, when a new command is executed, we must remember to update both <code>HistoryManager</code> and <code>UndoRedoStack</code>.<br>
<strong>Alternative 2:</strong> Use <code>HistoryManager</code> for undo/redo<br>
<strong>Pros:</strong> We do not need to maintain a separate stack, and just reuse what is already in the codebase.<br>
<strong>Cons:</strong> Requires dealing with commands that have already been undone: We must remember to skip these commands. Violates Single Responsibility Principle and Separation of Concerns as <code>HistoryManager</code> now needs to do two different things.<br></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="borrow-payback-command-mechanism"><a class="link" href="#borrow-payback-command-mechanism">4.2. Borrow/payback command mechanism</a></h3>
<div class="paragraph">
<p>The <code>borrow</code> command allows users to increase the debt of a person should he/she borrow more money. On the other hand, when a debtor repays a specified amount, the <code>payback</code> command is used to deduct that amount from his/her current debt. The <code>BorrowCommand</code> and <code>PaybackCommand</code> classes, which handle the updating of the <code>Debt</code> fields in a <code>Person</code> object, extend <code>UndoableCommand</code> so that both of these commands can be undone or redone if necessary.</p>
</div>
<div class="paragraph">
<p>These two commands require one compulsory argument which is the amount that is borrowed/paid back. Indicating the index (as listed in the person list panel on the left side of the application window) of the person who borrowed or paid back money is optional. If no index is specified, the command will be executed for the person that is currently selected in the person list.
The arguments (index and amount borrowed/paid back) are separated by a whitespace instead of special prefixes (e.g. prefix <code>n/</code> used for name). Hence, the <code>String#split</code> method is used to tokenize the input using a single whitespace as the delimiter. As seen in Figure 4.2.1, the tokenized inputs (index and amount borrowed) are then converted to their appropriate <code>Object</code> types and supplied as arguments to the <code>BorrowCommand</code> constructor. Input for the <code>payback</code> command is tokenized and supplied to the <code>PaybackCommand</code> constructor in the same manner.</p>
</div>
<div class="paragraph">
<p>The <code>BorrowCommand</code> and <code>PaybackCommand</code> are executed in <code>LogicManager</code>.
<code>BorrowCommand</code> updates the <code>debt</code>, <code>totalDebt</code> and <code>dateRepaid</code> attributes in the target <code>Person</code> object through the <code>ModelManager#addDebtToPerson()</code> which calls <code>AddressBook#addDebtToPerson()</code>. A new <code>Person</code> object is then created with the updated <code>debt</code> and <code>totalDebt</code> amount. Also, the <code>dateRepaid</code> field is set to <code>NOT REPAID</code>.  The target <code>Person</code> object is then replaced with this new <code>Person</code> object.</p>
</div>
<div class="paragraph">
<p><code>PaybackCommand</code> updates the target person&#8217;s debt in the same manner as the <code>BorrowCommand</code>. However, only the <code>debt</code> attribute is updated. If the person has fully repaid his/her debts, the <code>PaybackCommand</code> will set the date repaid to the day the <code>PaybackCommand</code> was executed. The person will also be listed in the whitelist.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For the <code>BorrowCommand</code>, the <code>DateBorrow</code> field in the new <code>Person</code> object needs to be updated to match the <code>DateBorrow</code> field in the target <code>Person</code> object. This is because the date of creation of the <code>Person</code> object is assigned to the <code>DateBorrow</code> field when a <code>Person</code> object is created.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram, Figure 4.2.1, shows further details of the interaction between the <code>Logic</code> and <code>Model</code> component when the <code>borrow</code> command is executed:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/BorrowCommandSequenceDiagram.png" alt="BorrowCommandSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.2.1 : Sequence diagram of how the <code>borrow</code> command works</em></p>
</div>
<div class="paragraph">
<p>The <code>payback</code> command works in a similar way to the <code>borrow</code> command.</p>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">4.2.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of <code>BorrowCommandParser</code> and <code>PaybackCommandParser</code><br>
<strong>Alternative 1 (current choice):</strong> Tokenize arguments using <code>String#split()</code><br>
<strong>Pros:</strong> Easier to parse arguments using <code>String#split</code> method since there are no prefixes in the command input. It is also easier to validate the number of arguments entered by the user. This can be done through checking the length of the <code>String</code> array returned by <code>String#split</code>.<br>
<strong>Alternative 2:</strong> Modify <code>ArgumentTokenizer#tokenize()</code> to tokenize arguments<br>
<strong>Pros:</strong> Better modularity.<br>
<strong>Cons:</strong> Requires modifications to <code>ArgumentTokenizer#tokenize()</code> since supplying whitespace as a prefix to the current <code>ArgumentTokenizer#tokenize()</code> method incorrectly tokenizes arguments.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="paragraph">
<p>Entered command: <code>borrow 1 500</code><br>
Prefix supplied to <code>ArgumentTokenizer#tokenize</code> method: <code>" "</code><br>
Outcome: prefix <code>" "</code> will be mapped to <code>1 500</code> in <code>argMultimap</code>. Index and amount borrowed are not separated.<br></p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Updating <code>Debt</code> field<br>
<strong>Alternative 1 (current choice):</strong> Create a new <code>Person</code> object, called <code>editedPerson</code>, by supplying the target <code>ReadOnlyPerson</code> object to constructor <code>Person::new</code><br>
<strong>Pros:</strong> Straightforward and simple to implement.<br>
<strong>Cons:</strong> <code>Debt</code> class will need to have another constructor that takes in a <code>Double</code> parameter for simpler implementation of <code>AddressBook#addDebtToPerson()</code>.<br>
<strong>Alternative 2:</strong> Reusing the <code>AddressBook#updatePerson()</code> method<br>
<strong>Pros:</strong> Do not have to write the method from scratch.<br>
<strong>Cons:</strong> A new <code>Person</code> object still has to be created in order to edit the <code>Debt</code> field. Since <code>Addressbook#updatePerson()</code> only accepts <code>ReadOnlyPerson</code> objects as parameters, more code has to be written to convert the <code>Person</code> object to be a <code>ReadOnlyPerson</code> object.<br></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="backup-storage-mechanism"><a class="link" href="#backup-storage-mechanism">4.3. Backup storage mechanism</a></h3>
<div class="paragraph">
<p>The backup storage mechanism is facilitated by the <code>StorageManager</code>. It backs up the address book data automatically each time the application starts up, if there is existing data available. The sequence diagram for this is shown below in Figure 4.3.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/BackupAddressBookSequenceDiagram.png" alt="BackupAddressBookSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.3.1: Sequence diagram for backing up address book data</em></p>
</div>
<div class="paragraph">
<p>The <code>backupAddressBook</code> method is called in <code>MainApp#init()</code> which is called each time the application starts. No backup is made if there is no existing data.</p>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">4.3.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> When to create the backup<br>
<strong>Alternative 1 (current choice):</strong> on startup of the application<br>
<strong>Pros:</strong> Guarantees that a backup is made only of a working version of the address book that the user can easily revert to, should he/she mess up the main copy while using the application.<br>
<strong>Cons:</strong> If the user tends to make many changes within one session, none of the changes are saved in the backup.<br>
<strong>Alternative 2:</strong> Implement a command to create backup<br>
<strong>Pros:</strong> The backup is only created when the user desires to.<br>
<strong>Cons:</strong> This makes the implementation pointless altogether as it is meant as a safety net for clumsy users. This alternative would only benefit the careful users, who do not require it as much in the first place.<br>
<strong>Alternative 3:</strong> Create a backup after a fixed number of commands that change the address book<br>
<strong>Pros:</strong> This will create backups that are guaranteed to be recent.<br>
<strong>Cons:</strong> It is difficult to determine the ideal number of commands to ensure that the backup is both recent enough, yet outdated enough for the user to want to restore state to should he/she mess up a command at some point.<br></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="date-storing-mechanism"><a class="link" href="#date-storing-mechanism">4.4. Date storing mechanism</a></h3>
<div class="paragraph">
<p>The date storing mechanism only begins to work when an instance of the <code>Person</code> class is implemented. An instance of the <code>Date</code> class is created and used to store the current date that the <code>Person</code> instance was created.
An example of such an implementation of this is the <code>dateBorrow</code> field of <code>Person</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Person</span> <span class="directive">implements</span> ReadOnlyPerson {

    <span class="directive">private</span> ObjectProperty&lt;<span class="predefined-type">Name</span>&gt; name;
    <span class="directive">private</span> ObjectProperty&lt;Phone&gt; phone;
    <span class="directive">private</span> ObjectProperty&lt;Email&gt; email;
    <span class="directive">private</span> ObjectProperty&lt;Address&gt; address;
    <span class="directive">private</span> ObjectProperty&lt;PostalCode&gt; postalCode;
    <span class="directive">private</span> ObjectProperty&lt;Cluster&gt; cluster;
    <span class="directive">private</span> ObjectProperty&lt;Debt&gt; debt;
    <span class="directive">private</span> ObjectProperty&lt;Interest&gt; interest;
    <span class="directive">private</span> ObjectProperty&lt;DateBorrow&gt; dateBorrow;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Such an implementation doesn&#8217;t allow for errors when creating the field as there is no room for mistakes on the user&#8217;s side. When the <code>Person</code> instance is created, the following line is called:<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="local-variable">this</span>.dateBorrow = <span class="keyword">new</span> SimpleObjectProperty&lt;&gt;(<span class="keyword">new</span> DateBorrow());</code></pre>
</div>
</div>
<div class="paragraph">
<p>Suppose the above line is called, the <code>DateBorrow</code> class creates a new <code>Date</code> with the following line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="directive">public</span> DateBorrow() {
        <span class="predefined-type">Date</span> date = <span class="keyword">new</span> <span class="predefined-type">Date</span>();
        value = formatDate(date);
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>This way of implementation is rather intuitive when adding a new <code>Person</code> as a new <code>Date</code> can simply be created. However, whenever a <code>Person</code> constructor is called, such as the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="directive">public</span> Person(ReadOnlyPerson source) {
        <span class="local-variable">this</span>(source.getName(), source.getPhone(), source.getEmail(), source.getAddress(), source.getPostalCode(),
                source.getDebt(), source.getInterest(), source.getDeadline(), source.getTags());</code></pre>
</div>
</div>
<div class="paragraph">
<p>This would result in inconsistencies in the code. For example, an <code>Edit</code> command is implemented in such a way that it creates an <code>editedPerson</code>.
This is because the above mentioned constructor was meant to make a copy of the <code>Person</code> with a given source. Hence the following line was added to ensure consistency.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">        <span class="local-variable">this</span>.dateBorrow = <span class="keyword">new</span> SimpleObjectProperty&lt;&gt;(source.getDateBorrow());</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-4"><a class="link" href="#design-considerations-4">4.4.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of <code>DateBorrow</code><br>
<strong>Alternative 1(current choice):</strong> Create a <code>DateBorrow</code> class as such but modify the constructor to maintain consistency<br>
<strong>Pros:</strong> Blends well with existing coding style and how the commands work.<br>
<strong>Cons:</strong> As of now there is no problems with the implementation.<br>
<strong>Alternative 2:</strong> Have the user manually key in the date<br>
<strong>Pros:</strong> Implementation is very simple as the developer could just follow current coding style to create a new field.<br>
<strong>Cons:</strong> Such an implementation would not be as user-friendly as the first alternative. Currently the amount of fields for the user to key in
is rather high. Implementing alternative 2 would be more tedious on the user&#8217;s side.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="list-masterlist-blacklist-etc-mechanism"><a class="link" href="#list-masterlist-blacklist-etc-mechanism">4.5. List (Masterlist, Blacklist, etc.) mechanism</a></h3>
<div class="paragraph">
<p>Having multiple lists is useful for debt collectors to view debtors of different categories. Currently, these different lists include masterlist and blacklist.</p>
</div>
<div class="paragraph">
<p>These lists could be viewed with the respective commands that will update the panel that is currently displayed. The commands to display these lists are named after the lists themselves. For example, to view the <code>blacklist</code>, the command typed is "blacklist" or "bl".</p>
</div>
<div class="paragraph">
<p>The following sequence diagram, Figure 4.5.1, shows further details of the interaction between the user and various application components as a whole, when the blacklist command is executed:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/BlacklistCommandSequenceDiagram1.PNG" alt="BlacklistCommandSequenceDiagram1" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.5.1 : Sequence diagram of how the <code>blacklist</code> command works</em></p>
</div>
<div class="paragraph">
<p>The following sequence diagram, Figure 4.5.2, shows further details of the interaction between <code>ModelManager</code> and <code>ReadOnlyAddressBook</code> to obtain the blacklist:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/BlacklistCommandSequenceDiagram2.png" alt="BlacklistCommandSequenceDiagram2" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.5.2 : Sequence diagram of how <code>ModelManager</code> interacts with <code>ReadOnlyAddressBook</code> To generate blacklist From all persons</em></p>
</div>
<div class="paragraph">
<p>The List mechanism is facilitated by commands which use <code>Logic</code> interface to obtain the copy of the list that is required. As seen from Figure 4.5.1 and Figure 4.5.2 above, to obtain the current blacklist of the addressbook, "blacklist" <code>String</code> is first captured by the <code>CommandBox</code> class. The <code>CommandBox</code> class then passes this <code>String</code> to the <code>Logic</code> interface for execution.</p>
</div>
<div class="paragraph">
<p><code>Logic</code> interface uses <code>LogicManager</code> class to validate the written command and package it as a <code>Command</code> object. The respective command is then executed in <code>LogicManager</code> class. These are the instructions that are executed for this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> CommandResult execute() {
        model.changeListTo(COMMAND_WORD);
        model.updateFilteredBlacklistedPersonList(PREDICATE_SHOW_ALL_BLACKLISTED_PERSONS);
        <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(MESSAGE_SUCCESS);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Specifically for <code>blacklist</code> command, it calls the <code>getFiltererdBlacklistedPersons()</code> method residing in the <code>Logic</code> interface. <code>LogicManager</code> subsequently calls <code>Model</code> interface. <code>Model</code> uses <code>ModelManager</code> class to handle the command and thereafter calls <code>ReadOnlyAddressBook</code> interface to handle the request. <code>ReadOnlyAddressBook</code> uses <code>AddressBook</code> class to handle this request.</p>
</div>
<div class="paragraph">
<p>In the <code>AddressBook</code> class, there is only one <code>persons</code> variable that stores all <code>ReadOnlyPerson</code> class objects. The blacklisted persons are obtained by running a check on all debtors residing in this variable. The check is executed using the <code>ReadOnlyPerson#getIsBlacklisted()</code> method, as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> UniquePersonList getBlacklistedPersons() {
    UniquePersonList blacklistedPersons = <span class="keyword">new</span> UniquePersonList();
    <span class="keyword">for</span> (Person person : persons.getInternalList()) {
        <span class="keyword">if</span> (person.getIsBlacklisted()) {
            <span class="keyword">try</span> {
                blacklistedPersons.add(person);
            } <span class="keyword">catch</span> (DuplicatePersonException e) {
                <span class="keyword">assert</span> <span class="predefined-constant">false</span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">This is not possible as prior checks have been done</span><span class="delimiter">&quot;</span></span>;
            }
        }
    }
    <span class="keyword">return</span> blacklistedPersons;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Although this way of implementation seems inefficient, it supports robust synchronisation among the various other lists. For example, if a person is deleted from the masterlist, he will also be deleted from the blacklist. Likewise for various other commands that changes the <code>ReadOnlyPerson</code> object. Thus, it is efficient in this aspect. Moreover, this implementation sets the groundwork for future implementations of various other lists.</p>
</div>
<div class="sect3">
<h4 id="design-considerations-5"><a class="link" href="#design-considerations-5">4.5.1. Design Considerations:</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Other commands still work in Blacklist mode(<code>Add</code>, <code>Delete</code> command)<br>
<strong>Alternative 1 (current choice):</strong> Inform user in user guide to use only specific commands for that list<br>
<strong>Pros:</strong> Easy to implement.<br>
<strong>Cons:</strong> Performance issues as users are bound to make a mistake.<br>
<strong>Alternative 2:</strong> Restrict other command usages in certain lists<br>
<strong>Pros:</strong> Users will never make a mistake sending the wrong person to the wrong list.<br>
<strong>Cons:</strong> Implementation is complicated and thus implementation has to revisited whenever new commands are introduced.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cluster-mechanism"><a class="link" href="#cluster-mechanism">4.6. Cluster mechanism</a></h3>
<div class="paragraph">
<p>As a debt collector that operates in all parts of Singapore, it would boost efficiency in deciding debt collection trips
if the contacts can be effectively grouped by <a href="cluster">clusters</a>. It is determined based on the postal code provided
upon adding a <code>Person</code> into the address book. This can be seen in the constructors of the <code>Person</code> class and the
<code>Cluster</code> class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> Person(<span class="predefined-type">Name</span> name, Phone phone, Email email, Address address, PostalCode postalCode,
              Debt debt, Interest interest, Deadline deadline, <span class="predefined-type">Set</span>&lt;Tag&gt; tags) {
    requireAllNonNull(name, phone, email, address, postalCode, debt, interest, deadline, tags);
    <span class="comment">// assignment of other fields omitted for brevity</span>
    <span class="local-variable">this</span>.cluster = <span class="keyword">new</span> SimpleObjectProperty&lt;&gt;(<span class="keyword">new</span> Cluster(postalCode));
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> Cluster(PostalCode postalCode) {
    requireNonNull(postalCode);
    <span class="keyword">if</span> (!isValidPostalCode(postalCode.toString())) {
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">AssertionError</span>(MESSAGE_POSTAL_CODE_CONSTRAINTS);
    }
    <span class="predefined-type">String</span> cluster = getCluster(postalCode.toString());
    clusterNumber = <span class="predefined-type">Integer</span>.parseInt(cluster.substring(<span class="integer">0</span>, <span class="integer">2</span>));
    <span class="local-variable">this</span>.value = cluster.substring(<span class="integer">4</span>);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>getCluster</code> method resides in the <code>ClusterUtil</code> class, and returns the name of the postal district based on the
first two numbers of the postal code that is passed into the method. The postal districts are retrieved from [<a href="https://www.ura.gov.sg/realEstateIIWeb/resources/misc/list_of_postal_districts.htm">URA</a>].
The district number is stored as part of the <code>String</code> for ease of sorting by location.
Part of the code from <code>ClusterUtil</code> for retrieving the <code>cluster</code> from a postal code starting with <code>01</code> is shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ClusterUtil</span> {

    <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> CLUSTER_POSTAL_DISTRICT_01 = <span class="string"><span class="delimiter">&quot;</span><span class="content">01. Raffles Place, Cecil, Marina, People's Park</span><span class="delimiter">&quot;</span></span>;
    <span class="comment">// declaration of other postal districts omitted for brevity</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> CLUSTER_POSTAL_DISTRICT_UNKNOWN = <span class="string"><span class="delimiter">&quot;</span><span class="content">99. Unknown</span><span class="delimiter">&quot;</span></span>;

    <span class="directive">public</span> <span class="directive">static</span> <span class="predefined-type">String</span> getCluster(<span class="predefined-type">String</span> postalCode) {
        requireNonNull(postalCode);
        <span class="type">int</span> postalSector = <span class="predefined-type">Integer</span>.parseInt(postalCode.substring(<span class="integer">0</span>, <span class="integer">2</span>));
        <span class="keyword">switch</span> (postalSector) {
        <span class="keyword">case</span> <span class="integer">1</span>:
        <span class="keyword">case</span> <span class="integer">2</span>:
        <span class="keyword">case</span> <span class="integer">3</span>:
        <span class="keyword">case</span> <span class="integer">4</span>:
        <span class="keyword">case</span> <span class="integer">5</span>:
        <span class="keyword">case</span> <span class="integer">6</span>:
            <span class="keyword">return</span> CLUSTER_POSTAL_DISTRICT_01;
        <span class="comment">// cases for all other valid postal districts omitted for brevity</span>
        <span class="keyword">default</span>:
            <span class="keyword">return</span> CLUSTER_POSTAL_DISTRICT_UNKNOWN;
        }
    }
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-6"><a class="link" href="#design-considerations-6">4.6.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Grouping of contacts<br>
<strong>Alternative 1 (current choice):</strong> Create a field that contains the name and district number of the postal districts, based on postal code<br>
<strong>Pros:</strong> Easy to implement and extend, requires minimal user input.<br>
<strong>Cons:</strong> Requires developer to update <code>ClusterUtil</code> whenever a new postal district is drawn by the government, and
requires users to reset their contacts' <code>cluster</code> via deletion and addition or via editing their <code>postal codes</code>.<br>
<strong>Alternative 2:</strong> Import contacts' location and find their proximity from one another using Google Maps API<br>
<strong>Pros:</strong> Higher precision of geographical location and proximity.<br>
<strong>Cons:</strong> Tedious to implement proximity. Either takes up too much time in generating nearby contacts or too much space
 in storing them.<br>
<strong>Alternative 3:</strong> Assign general location to each contact upon addition into the address book or via editing<br>
<strong>Pros:</strong> Easy to implement.<br>
<strong>Cons:</strong> Tedious for users. They also have to ensure that they do not make spelling mistakes.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="filter-by-tags-mechanism"><a class="link" href="#filter-by-tags-mechanism">4.7. Filter by tags mechanism</a></h3>
<div class="paragraph">
<p>The <code>filter</code> command allows the user to filter contacts by tags. Multiple tags can be entered. The command returns a list of contacts that match <strong>at least one</strong> of the tags that is specified by the user.</p>
</div>
<div class="paragraph">
<p>Since the filtered person list stored in the <code>ModelManager</code> class is of the type FilteredList&lt;&gt;, filtering of the list can be done easily using Java’s <code>FilteredList#setPredicate()</code> method.
Hence, a <code>PersonContainsTagPredicate</code> is created to check if a <code>Person</code> object contains the tags of interest. The code snippet below shows how the <code>PersonContainsTagPredicate</code> is implemented to sieve out the relevant contacts. The <code>Stream#anyMatch()</code> method ensures that the filtered list contains persons who have at least one tag specified by the user.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/**
 * Evaluates this predicate on the given {@code person}. This predicate tests if a person contains at least one tag
 * from {@code tagKeywords}.
 * @return {@code true} if the person matches the predicate,
 * otherwise {@code false}
 */</span>
<span class="annotation">@Override</span>
<span class="directive">public</span> <span class="type">boolean</span> test(ReadOnlyPerson person) {
    <span class="predefined-type">Set</span>&lt;Tag&gt; tagList = person.getTags();
    <span class="keyword">for</span> (Tag tag : tagList) {
        <span class="keyword">if</span> (tagKeywords.stream().anyMatch(keyword -&gt; StringUtil.containsWordIgnoreCase(tag.tagName, keyword))) {
            <span class="keyword">return</span> <span class="predefined-constant">true</span>;
        }
    }
    <span class="keyword">return</span> <span class="predefined-constant">false</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The list is filtered and updated through <code>ListObserver#updateCurrentFilteredList()</code> in the <code>seedu.addressbook.commons</code> package, instead of <code>ModelManager#updateFilteredPersonList()</code>, so that it works across all lists (masterlist, blacklist, whitelist and overdue list).</p>
</div>
<div class="sect3">
<h4 id="design-considerations-7"><a class="link" href="#design-considerations-7">4.7.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of <code>PersonContainsTagPredicate</code><br>
<strong>Alternative 1 (current choice):</strong> Predicate returns true if at least one tag matches the list of tags specified by the user<br>
<strong>Pros:</strong> More contacts will be shown to the user. The additional information may be useful to the user.<br>
<strong>Cons:</strong> The user may find some of the filtered contacts irrelevant.<br>
<strong>Alternative 2:</strong> Predicate returns true only if the person contains the exact tags that are specified by the user<br>
<strong>Pros:</strong> Shows the most relevant results if the user wants to search for an exact match.<br>
<strong>Cons:</strong> If the contacts have multiple tags and the user remembers just one of the tags wrongly, the <code>filter</code> command will return zero results.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="login-logout-mechanism"><a class="link" href="#login-logout-mechanism">4.8. Login/logout mechanism</a></h3>
<div class="paragraph">
<p>Although there are two versions for login, the Graphic User Interface(GUI) version and the Command Line Interface(CLI) version, they both use the same login mechanism (see Figure 4.8.1 below). The GUI login is recommended over the CLI login because it has better password masking capabilities.
This is because the password field in the GUI login is implemented using JavaFX 8&#8217;s <code>PasswordField</code>. The CLI login exists, despite the inconsistent password masking, to allow the user to log into the app faster since using a one-shot command is faster than a multi-step command.
The bugs in the CLI login could be resolved by removing password masking. However, this would have security implications because the password is not concealed.</p>
</div>
<div class="paragraph">
<p>After a user logs in using either the CLI or GUI login, verification of the login information will take place in the <code>Model</code> component. The username and password are verified against the information stored in <code>preferences.json</code>.</p>
</div>
<div class="paragraph">
<p>The password is stored as a SHA-512 hash to conceal the actual password. The salt that is used to generate the hashed password is also stored. Since the stored hash cannot be converted back to the original password, the password that is entered by the user needs to be hashed and verified against the stored hash. Thus, the same salt needs to be used to generate a hash to match with the stored hash. If a different salt is used, then the generated hash will be different from the stored hash even if the password provided is correct.</p>
</div>
<div class="paragraph">
<p>After verifying that the username and password matches the information stored in <code>preferences.json</code>, an event is raised to notify the <code>UI</code> component of the user authentication result. If the user has successfully logged in, the <code>UI</code> component will display the person list, info panel and allow other commands (such as <code>list</code>, <code>edit, `add</code>, etc.) to be executed from the command box.</p>
</div>
<div class="paragraph">
<p>The activity diagram below, Figure 4.8.1, shows the overall flow of the command execution for both GUI and CLI login:
image::LoginActivityDiagram.PNG[width="800"]
<em>Figure 4.8.1 : Activity diagram of how the <code>login</code> command works for both CLI and GUI version</em></p>
</div>
<div class="paragraph">
<p>When a user enters the <code>logout</code> command, the <code>LogoutCommand</code> class in the <code>Logic</code> component will call the <code>ModelManager#logout()</code> method. Two events will be raised: <code>LoginAppRequestEvent</code> and <code>LogoutAppRequestEvent</code>. <code>LoginAppRequestEvent</code> is to set the <code>isLoggedIn</code> variable in <code>LoginCommand</code> to <code>false</code> and <code>LogoutAppRequestEvent</code> is to set the <code>isLoggedOut</code> variable in <code>LogoutCommand</code> to <code>true</code>. Both events need to be raised to notify the <code>UI</code> component to go back to the welcome page and restrict the commands that are allowed to be executed.</p>
</div>
<div class="sect3">
<h4 id="design-considerations-8"><a class="link" href="#design-considerations-8">4.8.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of password masking<br>
<strong>Alternative 1(current choice):</strong> Use the unicode character 'BLACK CIRCLE' (●) for password masking<br>
<strong>Pros:</strong> Other characters can be detected as password input, such as the asterisk character '*' which is commonly used for password masking.<br>
<strong>Alternative 2:</strong> Use the asterisk character (*) for password masking<br>
<strong>Pros:</strong> User may use the asterisk character when entering the password. The asterisk character will be ignored and will not show in the text field when it is entered. This is because the method that handles password masking ignores the character used to mask the password. Refer to the code snippet below for the implementation:<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/*
 * mask password after the second whitespace and prevent the reading of the BLACK_CIRCLE after replacing
 * a character in the command box text field with a BLACK_CIRCLE
 */</span>
<span class="keyword">if</span> (numOfSpaces &gt;= <span class="integer">2</span> &amp;&amp; currentInput.charAt(currentInput.length() - <span class="integer">1</span>) != <span class="string"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span>
        &amp;&amp; currentInput.charAt(currentInput.length() - <span class="integer">1</span>) != BLACK_CIRCLE) {
    maskPasswordInput(currentInput);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Cons:</strong> Although '*' is an invalid password character, the user may still use it while entering the password. Hence, if the user types '*', the cursor will remain at its original position. The user will be under the impression that the command box is not registering what was typed.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sorting-mechanism"><a class="link" href="#sorting-mechanism">4.9. Sorting mechanism</a></h3>
<div class="paragraph">
<p>Sorting is done within the <code>UniquePersonList</code> class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> sortBy(<span class="predefined-type">String</span> order) <span class="directive">throws</span> <span class="exception">IllegalArgumentException</span> {
    <span class="keyword">switch</span> (order) {
    <span class="keyword">case</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>:
        internalList.sort((Person p1, Person p2) -&gt; p1.getName().compareTo(p2.getName()));
        <span class="keyword">break</span>;
    <span class="keyword">case</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">debt</span><span class="delimiter">&quot;</span></span>:
        internalList.sort((Person p1, Person p2) -&gt; p2.getDebt().compareTo(p1.getDebt()));
        <span class="keyword">break</span>;
    <span class="keyword">case</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">cluster</span><span class="delimiter">&quot;</span></span>:
        internalList.sort((Person p1, Person p2) -&gt; p1.getCluster().compareTo(p2.getCluster()));
        <span class="keyword">break</span>;
    <span class="keyword">case</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">deadline</span><span class="delimiter">&quot;</span></span>:
        internalList.sort((Person p1, Person p2) -&gt; p1.getDeadline().compareTo(p2.getDeadline()));
        internalList.sort((Person p1, Person p2) -&gt; <span class="predefined-type">Boolean</span>.compare(p1.isWhitelisted(), p2.isWhitelisted()));
        <span class="keyword">break</span>;
    <span class="keyword">default</span>:
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">IllegalArgumentException</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Invalid sort ordering</span><span class="delimiter">&quot;</span></span>);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>sort</code> command can take in a <code>String</code> that determines how the contacts should be sorted. If no ordering is
specified, the contacts will be sorted by ascending lexicographical order by default.<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">SortCommandParser</span> <span class="directive">implements</span> <span class="predefined-type">Parser</span>&lt;SortCommand&gt; {
    <span class="directive">public</span> SortCommand parse(<span class="predefined-type">String</span> args) <span class="directive">throws</span> <span class="exception">ParseException</span> {
        requireNonNull(args);
        <span class="predefined-type">String</span> trimmedArgs = args.trim().toLowerCase();
        <span class="keyword">switch</span> (trimmedArgs) {
        <span class="keyword">case</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>:
        <span class="keyword">case</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>:
        <span class="keyword">case</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">debt</span><span class="delimiter">&quot;</span></span>:
        <span class="keyword">case</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">cluster</span><span class="delimiter">&quot;</span></span>:
        <span class="keyword">case</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">deadline</span><span class="delimiter">&quot;</span></span>:
            <span class="keyword">return</span> <span class="keyword">new</span> SortCommand(trimmedArgs);
        <span class="keyword">default</span>:
            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">ParseException</span>(<span class="predefined-type">String</span>.format(MESSAGE_INVALID_COMMAND_FORMAT, SortCommand.MESSAGE_USAGE));
        }
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> DEFAULT_ORDERING = <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>;

<span class="directive">public</span> SortCommand(<span class="predefined-type">String</span> order) {
    <span class="comment">//validity of order to sort is checked in {@code SortCommandParser}</span>
    <span class="keyword">if</span> (order.equals(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)) {
        order = DEFAULT_ORDERING;
    }
    <span class="local-variable">this</span>.order = order;
}

<span class="directive">public</span> CommandResult execute() <span class="directive">throws</span> CommandException {
    <span class="keyword">try</span> {
        model.sortBy(order);
    } <span class="comment">// irrelevant parts of the method omitted for brevity</span>
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-9"><a class="link" href="#design-considerations-9">4.9.1. Design considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Default <code>sort</code><br>
<strong>Alternative 1 (current choice):</strong> <code>Sort</code> by <code>name</code> by default<br>
<strong>Pros:</strong> Relatively easy to implement, extremely intuitive.<br>
<strong>Alternative 2:</strong> <code>Sort</code> by <code>debt</code> by default<br>
<strong>Pros:</strong> Equally easy to implement.<br>
<strong>Cons:</strong> Slightly less intuitive as sorting by <code>name</code> is the most prevalent way of sorting contacts.<br>
<strong>Alternative 3:</strong> No default <code>sort</code><br>
<strong>Pros:</strong> Extremely easy to implement.<br>
<strong>Cons:</strong> Not user-friendly.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="optional-command-indexes"><a class="link" href="#optional-command-indexes">4.10. Optional command indexes</a></h3>
<div class="paragraph">
<p>It is intuitive to allow commands such as <code>edit</code>, <code>delete</code>, <code>borrow</code> and others to be called on the currently selected
person instead of always having to supply the <code>INDEX</code>.<br>
Parsers of commands call a constructor of the commands without an index. Take the <code>RepaidCommandParser</code> and <code>RepaidCommand</code> for example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> RepaidCommand parse(<span class="predefined-type">String</span> args) <span class="directive">throws</span> <span class="exception">ParseException</span> {
    <span class="keyword">try</span> {
        <span class="keyword">if</span> (args.trim().equals(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)) {
            <span class="keyword">return</span> <span class="keyword">new</span> RepaidCommand();
        } <span class="keyword">else</span> {
            Index index = ParserUtil.parseIndex(args);
            <span class="keyword">return</span> <span class="keyword">new</span> RepaidCommand(index);
        }
    } <span class="keyword">catch</span> (IllegalValueException ive) {
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">ParseException</span>(
            <span class="predefined-type">String</span>.format(MESSAGE_INVALID_COMMAND_FORMAT, RepaidCommand.MESSAGE_USAGE));
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> RepaidCommand() <span class="directive">throws</span> CommandException {
    personToWhitelist = selectPersonForCommand();
}

<span class="directive">public</span> RepaidCommand(Index targetIndex) <span class="directive">throws</span> CommandException {
    personToWhitelist = selectPersonForCommand(targetIndex);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>selectPersonForCommand()</code> and <code>selectPersonForCommand(Index)</code> methods are placed in the <code>Command</code> class, and is used by such index-based commands to select
the currently selected person to apply the command on if no index is provided.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> ReadOnlyPerson selectPersonForCommand() <span class="directive">throws</span> CommandException {
    <span class="keyword">if</span> (ListObserver.getSelectedPerson() == <span class="predefined-constant">null</span>) {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(Messages.MESSAGE_NO_PERSON_SELECTED);
    }
    <span class="keyword">return</span> ListObserver.getSelectedPerson();
}

<span class="directive">public</span> ReadOnlyPerson selectPersonForCommand(Index index) <span class="directive">throws</span> CommandException {
    <span class="predefined-type">List</span>&lt;ReadOnlyPerson&gt; lastShownList = ListObserver.getCurrentFilteredList();
    <span class="keyword">if</span> (index.getZeroBased() &gt;= lastShownList.size()) {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(Messages.MESSAGE_INVALID_PERSON_DISPLAYED_INDEX);
    }
    <span class="keyword">return</span> lastShownList.get(index.getZeroBased());
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-10"><a class="link" href="#design-considerations-10">4.10.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Executing index-based commands without index<br>
<strong>Alternative 1 (current choice):</strong> The person to apply the commands on are determined in the constructors<br>
<strong>Pros:</strong> Allows for proper <code>redo</code>.<br>
<strong>Cons:</strong> Hard to test as Command Exceptions are being thrown from the constructors.<br>
<strong>Alternative 2:</strong> Calling a constructor of the <code>command</code> without an <code>Index</code> initialises its <code>targetIndex</code>
to null, and the null index is handled as a special value during execution<br>
<strong>Pros:</strong> Easy to implement, easy to extend.<br>
<strong>Cons:</strong> Although highly unlikely, it may be possible for a <code>command</code> to have an unintended null <code>targetIndex</code>, which
will then cause it to behave as an indexless command instead of an error. May also cause problems with <code>redo</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="interest-calculator-mechanism"><a class="link" href="#interest-calculator-mechanism">4.11. Interest Calculator Mechanism</a></h3>
<div class="paragraph">
<p>As a debt collector, it can be troublesome to manage so many debts. The task is made more tedious when the debt collector has to
consider all the debtor&#8217;s loan&#8217;s interest rates as well. Codii is able to automatically calculate a <code>Person</code> 's new debt based on his / her&#8217;s
interest rate. Whenever the user logs into Codii, the <code>Model</code> component, which handles the event <code>LoginAppRequestEvent</code> and checks every
<code>Person</code> in the <code>AddressBook</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Subscribe</span>
    <span class="directive">public</span> <span class="type">void</span> handleLoginUpdateDebt(LoginAppRequestEvent event) {
        <span class="comment">// login is successful</span>
        <span class="keyword">if</span> (event.getLoginStatus() == <span class="predefined-constant">true</span>) {
            <span class="keyword">for</span> (ReadOnlyPerson person : allPersons) {
                <span class="keyword">if</span> (!person.getInterest().value.equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">No interest set.</span><span class="delimiter">&quot;</span></span>)
                        &amp;&amp; (person.checkLastAccruedDate(<span class="keyword">new</span> <span class="predefined-type">Date</span>()) != <span class="integer">0</span>)) {
                    updateDebtFromInterest(person, person.checkLastAccruedDate(<span class="keyword">new</span> <span class="predefined-type">Date</span>()));
                }
            }
        }
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>As seen from the above if a <code>Person</code> has his / her interest field defined,the event handler checks a <code>Person</code> 's debts last accrued date via the method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="comment">/**
     * Compares date of last accrued against current date.
     * @return number of months the current date is ahead of last accrued date. Returns 0 if
     * there is no need to increment debt.
     */</span>
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">int</span> checkLastAccruedDate(<span class="predefined-type">Date</span> currentDate) {
        <span class="keyword">if</span> (lastAccruedDate.before(currentDate)) {
            <span class="keyword">return</span> DateUtil.getNumberOfMonthBetweenDates(currentDate, lastAccruedDate);
        } <span class="keyword">else</span> {
            <span class="keyword">return</span> <span class="integer">0</span>;
        }
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above method returns the difference in the number of months between the last accrued date and the current date to the event handler. The event
handler than calls another method to update the <code>Person</code> 's debt by passing in the number of months as a parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> updateDebtFromInterest(ReadOnlyPerson person, <span class="type">int</span> differenceInMonths) {
        <span class="predefined-type">String</span> accruedAmount = person.calcAccruedAmount(differenceInMonths);
        <span class="keyword">try</span> {
            Debt amount = <span class="keyword">new</span> Debt(accruedAmount);
            addDebtToPerson(person, amount);
        } <span class="keyword">catch</span> (PersonNotFoundException pnfe) {
            <span class="keyword">assert</span> <span class="predefined-constant">false</span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">Should not occur as person obtained from allPersons</span><span class="delimiter">&quot;</span></span>;
        } <span class="keyword">catch</span> (IllegalValueException ive) {
            <span class="keyword">assert</span> <span class="predefined-constant">false</span> : Debt.MESSAGE_DEBT_CONSTRAINTS;
        }
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>From the above code, the <code>Person</code> 's debts accrued amount would be calculated by the line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> accruedAmount = person.calcAccruedAmount(differenceInMonths);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Their respective debts would then be updated accordingly with the following line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">addDebtToPerson(person, amount);</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-11"><a class="link" href="#design-considerations-11">4.11.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> When to update / check a Person&#8217;s debt<br>
<strong>Alternative 1 (Current choice):</strong> Check through the <code>AddressBook</code> in the <code>Model</code> component every time the user logs in<br>
<strong>Pros:</strong> Convenient and intuitive to implement for developer.<br>
<strong>Cons:</strong> If user never logs out, the debt would not be accrued.<br>
<strong>Alternative 2:</strong> Create a <code>Refresh</code> command that does the checking instead of relying on the <code>LoginAppRequestEvent</code><br>
<strong>Pros:</strong> User can have the most up-to-date debt as long as he / she remembers to always enter the <code>Refresh</code> command.<br>
<strong>Cons:</strong> Not convenient for user at all. It is also unlikely that the user would remain logged in for such a long duration.<br></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="theme-changing-mechanism"><a class="link" href="#theme-changing-mechanism">4.12. Theme Changing Mechanism</a></h3>
<div class="paragraph">
<p>The changing of themes is done in the <code>MainWindow</code> class, which is the class that holds all the <code>UI</code> parts.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> <span class="type">void</span> changeTheme() {
    <span class="keyword">for</span> (<span class="predefined-type">String</span> stylesheet : getRoot().getStylesheets()) {
        <span class="keyword">if</span> (stylesheet.endsWith(<span class="string"><span class="delimiter">&quot;</span><span class="content">DarkTheme.css</span><span class="delimiter">&quot;</span></span>)) {
            getRoot().getStylesheets().remove(stylesheet);
            getRoot().getStylesheets().add(<span class="string"><span class="delimiter">&quot;</span><span class="content">/view/BrightTheme.css</span><span class="delimiter">&quot;</span></span>);
            <span class="keyword">break</span>;
        } <span class="keyword">else</span> <span class="keyword">if</span> (stylesheet.endsWith(<span class="string"><span class="delimiter">&quot;</span><span class="content">BrightTheme.css</span><span class="delimiter">&quot;</span></span>)) {
            getRoot().getStylesheets().remove(stylesheet);
            getRoot().getStylesheets().add(<span class="string"><span class="delimiter">&quot;</span><span class="content">/view/DarkTheme.css</span><span class="delimiter">&quot;</span></span>);
            <span class="keyword">break</span>;
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>changeTheme</code> method is called when a <code>ChangeThemeRequestEvent</code> is raised from <code>ThemeCommand</code>.</p>
</div>
<div class="paragraph">
<p>In <code>MainWindow</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Subscribe</span>
<span class="directive">private</span> <span class="type">void</span> handleChangeThemeRequestEvent(ChangeThemeRequestEvent event) {
    logger.info(LogsCenter.getEventHandlingLogMessage(event));
    changeTheme();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In <code>ThemeCommand</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> CommandResult execute() {
    EventsCenter.getInstance().post(<span class="keyword">new</span> ChangeThemeRequestEvent());
    <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(MESSAGE_SUCCESS);
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-12"><a class="link" href="#design-considerations-12">4.12.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Condition for changing themes<br>
<strong>Alternative 1 (current choice):</strong> Use <code>String#endsWith()</code><br>
<strong>Pros:</strong> Foolproof, guaranteed to work if the theme exists.<br>
<strong>Alternative 2:</strong> Use file paths<br>
<strong>Pros:</strong> Likely to work most of the time if handled well.<br>
<strong>Cons:</strong> When debugging, it was found that the path started in the <code>build</code> folder instead of the <code>src</code> folder. Using
this method seemed to cause inconsistencies between running the app from an IDE and from the <code>.jar</code> file.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Switching of themes<br>
<strong>Alternative 1 (current choice):</strong> Simple toggle between two themes<br>
<strong>Pros:</strong> Easy to implement.<br>
<strong>Cons:</strong> Troublesome to extend.<br>
<strong> Alternative 2:</strong> Use an <code>int</code> to keep track of the current theme, assign each theme to a number, and use <code>+</code> and <code>%</code>
to cycle through the themes<br>
<strong>Pros:</strong> Easy to extend.<br>
<strong>Cons:</strong> Troublesome to implement considering that we intend to use only two themes.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logging"><a class="link" href="#logging">4.13. Logging</a></h3>
<div class="paragraph">
<p>We are using <code>java.util.logging</code> package for logging. The <code>LogsCenter</code> class is used to manage the logging levels and logging destinations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logging level can be controlled using the <code>logLevel</code> setting in the configuration file (See <a href="#configuration">Configuration</a>)</p>
</li>
<li>
<p>The <code>Logger</code> for a class can be obtained using <code>LogsCenter.getLogger(Class)</code> which will log messages according to the specified logging level</p>
</li>
<li>
<p>Currently log messages are output through: <code>Console</code> and to a <code>.log</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Logging Levels:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SEVERE</code> : Critical problem detected which may possibly cause the termination of the application</p>
</li>
<li>
<p><code>WARNING</code> : Can continue, but with caution</p>
</li>
<li>
<p><code>INFO</code> : Information showing the noteworthy actions by the App</p>
</li>
<li>
<p><code>FINE</code> : Details that is not usually noteworthy but may be useful in debugging e.g. print the actual list instead of just its size</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="configuration"><a class="link" href="#configuration">4.14. Configuration</a></h3>
<div class="paragraph">
<p>Certain properties of the application can be controlled (e.g App name, logging level) through the configuration file (default: <code>config.json</code>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation"><a class="link" href="#documentation">5. Documentation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>We use asciidoc for writing documentation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We chose asciidoc over Markdown because asciidoc, although a bit more complex than Markdown, provides more flexibility in formatting.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="editing-documentation"><a class="link" href="#editing-documentation">5.1. Editing Documentation</a></h3>
<div class="paragraph">
<p>See <a href="UsingGradle.html#rendering-asciidoc-files">UsingGradle.adoc</a> to learn how to render <code>.adoc</code> files locally to preview the end result of your edits.
Alternatively, you can download the AsciiDoc plugin for IntelliJ, which allows you to preview the changes you have made to your <code>.adoc</code> files in real-time.</p>
</div>
</div>
<div class="sect2">
<h3 id="publishing-documentation"><a class="link" href="#publishing-documentation">5.2. Publishing Documentation</a></h3>
<div class="paragraph">
<p>See <a href="UsingTravis.html#deploying-github-pages">UsingTravis.adoc</a> to learn how to deploy GitHub Pages using Travis.</p>
</div>
</div>
<div class="sect2">
<h3 id="converting-documentation-to-pdf-format"><a class="link" href="#converting-documentation-to-pdf-format">5.3. Converting Documentation to PDF format</a></h3>
<div class="paragraph">
<p>We use <a href="https://www.google.com/chrome/browser/desktop/">Google Chrome</a> for converting documentation to PDF format, as Chrome&#8217;s PDF engine preserves hyperlinks used in webpages.</p>
</div>
<div class="paragraph">
<p>Here are the steps to convert the project documentation files to PDF format:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Follow the instructions in <a href="UsingGradle.html#rendering-asciidoc-files">UsingGradle.adoc</a> to convert the AsciiDoc files in the <code>docs/</code> directory to HTML format.</p>
</li>
<li>
<p>Go to your generated HTML files in the <code>build/docs</code> folder, right click on them and select <code>Open with</code> &#8594; <code>Google Chrome</code>.</p>
</li>
<li>
<p>Within Chrome, click on the <code>Print</code> option in Chrome&#8217;s menu.</p>
</li>
<li>
<p>Set the destination to <code>Save as PDF</code>, then click <code>Save</code> to save a copy of the file in PDF format. For best results, use the settings indicated in Figure 5.3.1 below.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/chrome_save_as_pdf.png" alt="chrome save as pdf" width="300">
</div>
</div>
<div class="paragraph">
<p><em>Figure 5.3.1: Saving documentation as PDF files in Chrome</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing"><a class="link" href="#testing">6. Testing</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="running-tests"><a class="link" href="#running-tests">6.1. Running Tests</a></h3>
<div class="paragraph">
<p>There are three ways to run tests.</p>
</div>
<div class="paragraph">
<p>Note that due to the nature of the Date Borrow field in Person Class,<br>
it is advisable that developers do not test at midnight where the date might change.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The most reliable way to run tests is the 3rd one. The first two methods might fail some GUI tests due to platform/resolution-specific idiosyncrasies.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Method 1: Using IntelliJ JUnit test runner:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>To run all tests, right-click on the <code>src/test/java</code> folder and choose <code>Run 'All Tests'</code></p>
</li>
<li>
<p>To run a subset of tests, you can right-click on a test package, test class, or a test and choose <code>Run 'ABC'</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Method 2: Using Gradle:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open a console and run the command <code>gradlew clean allTests</code> (Mac/Linux: <code>./gradlew clean allTests</code>)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See <a href="UsingGradle.html">UsingGradle.adoc</a> for more info on how to run tests using Gradle.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Method 3: Using Gradle (headless):</strong></p>
</div>
<div class="paragraph">
<p>Thanks to the <a href="https://github.com/TestFX/TestFX">TestFX</a> library we use, our GUI tests can be run in the <em>headless</em> mode. In the headless mode, GUI tests do not show up on the screen. That means the developer can do other things on the Computer while the tests are running.</p>
</div>
<div class="paragraph">
<p>To run tests in headless mode, open a console and run the command <code>gradlew clean headless allTests</code> (Mac/Linux: <code>./gradlew clean headless allTests</code>)</p>
</div>
</div>
<div class="sect2">
<h3 id="types-of-tests"><a class="link" href="#types-of-tests">6.2. Types of tests</a></h3>
<div class="paragraph">
<p>We have two types of tests:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>GUI Tests</strong> - These are tests involving the GUI. They include,</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>System Tests</em> that test the entire App by simulating user actions on the GUI. These are in the <code>systemtests</code> package.</p>
</li>
<li>
<p><em>Unit tests</em> that test the individual components. These are in <code>seedu.address.ui</code> package.</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Non-GUI Tests</strong> - These are tests not involving the GUI. They include,</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>Unit tests</em> targeting the lowest level methods/classes.<br>
e.g. <code>seedu.address.commons.StringUtilTest</code></p>
</li>
<li>
<p><em>Integration tests</em> that are checking the integration of multiple code units (those code units are assumed to be working).<br>
e.g. <code>seedu.address.storage.StorageManagerTest</code></p>
</li>
<li>
<p>Hybrids of unit and integration tests. These test are checking multiple code units as well as how the are connected together.<br>
e.g. <code>seedu.address.logic.LogicManagerTest</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="troubleshooting-testing"><a class="link" href="#troubleshooting-testing">6.3. Troubleshooting Testing</a></h3>
<div class="paragraph">
<p><strong>Problem: <code>HelpWindowTest</code> fails with a <code>NullPointerException</code>:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reason: One of its dependencies, <code>UserGuide.html</code> in <code>src/main/resources/docs</code> is missing.</p>
</li>
<li>
<p>Solution: Execute Gradle task <code>processResources</code>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-ops"><a class="link" href="#dev-ops">7. Dev Ops</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="build-automation"><a class="link" href="#build-automation">7.1. Build Automation</a></h3>
<div class="paragraph">
<p>See <a href="UsingGradle.html">UsingGradle.adoc</a> to learn how to use Gradle for build automation.</p>
</div>
</div>
<div class="sect2">
<h3 id="continuous-integration"><a class="link" href="#continuous-integration">7.2. Continuous Integration</a></h3>
<div class="paragraph">
<p>We use <a href="https://travis-ci.org/">Travis CI</a> and <a href="https://www.appveyor.com/">AppVeyor</a> to perform <em>Continuous Integration</em> on our projects. See <a href="UsingTravis.html">UsingTravis.adoc</a> and <a href="UsingAppVeyor.html">UsingAppVeyor.adoc</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="making-a-release"><a class="link" href="#making-a-release">7.3. Making a Release</a></h3>
<div class="paragraph">
<p>Here are the steps to create a new release:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Update the version number in <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/MainApp.java"><code>MainApp.java</code></a>.</p>
</li>
<li>
<p>Generate a JAR file <a href="UsingGradle.html#creating-the-jar-file">using Gradle</a>.</p>
</li>
<li>
<p>Tag the repo with the version number. e.g. <code>v0.1</code></p>
</li>
<li>
<p><a href="https://help.github.com/articles/creating-releases/">Create a new release using GitHub</a> and upload the JAR file you created.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="managing-dependencies"><a class="link" href="#managing-dependencies">7.4. Managing Dependencies</a></h3>
<div class="paragraph">
<p>A project often depends on third-party libraries. For example, Address Book depends on the <a href="http://wiki.fasterxml.com/JacksonHome">Jackson library</a> for XML parsing. Managing these <em>dependencies</em> can be automated using Gradle. For example, Gradle can download the dependencies automatically, which is better than these alternatives:<br>
a. Include those libraries in the repo (this bloats the repo size)<br>
b. Require developers to download those libraries manually (this creates extra work for developers)</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="suggested-programming-tasks-to-get-started"><a class="link" href="#suggested-programming-tasks-to-get-started">Appendix A: Suggested Programming Tasks to Get Started</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Suggested path for new programmers:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First, add small local-impact (i.e. the impact of the change does not go beyond the component) enhancements to one component at a time. Some suggestions are given in this section <a href="#improving-each-component">Improving a Component</a>.</p>
</li>
<li>
<p>Next, add a feature that touches multiple components to learn how to implement an end-to-end feature across all components. The section <a href="#creating-a-new-command-code-remark-code">Creating a new command: <code>remark</code></a> explains how to go about adding such a feature.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="improving-each-component"><a class="link" href="#improving-each-component">A.1. Improving each component</a></h3>
<div class="paragraph">
<p>Each individual exercise in this section is component-based (i.e. you would not need to modify the other components to get it to work).</p>
</div>
<h4 id="code-logic-code-component" class="discrete"><code>Logic</code> component</h4>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Do take a look at the <a href="#logic-component">Design: Logic Component</a> section before attempting to modify the <code>Logic</code> component.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a shorthand equivalent alias for each of the individual commands. For example, besides typing <code>clear</code>, the user can also type <code>c</code> to remove all persons in the list.</p>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Hints</p>
<div class="ulist">
<ul>
<li>
<p>Just like we store each individual command word constant <code>COMMAND_WORD</code> inside <code>*Command.java</code> (e.g.  <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/logic/commands/FindCommand.java"><code>FindCommand#COMMAND_WORD</code></a>, <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/logic/commands/DeleteCommand.java"><code>DeleteCommand#COMMAND_WORD</code></a>), you need a new constant for aliases as well (e.g. <code>FindCommand#COMMAND_ALIAS</code>).</p>
</li>
<li>
<p><a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/logic/parser/AddressBookParser.java"><code>AddressBookParser</code></a> is responsible for analyzing command words.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Solution</p>
<div class="ulist">
<ul>
<li>
<p>Modify the switch statement in <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/logic/parser/AddressBookParser.java"><code>AddressBookParser#parseCommand(String)</code></a> such that both the proper command word and alias can be used to execute the same intended command.</p>
</li>
<li>
<p>See this <a href="https://github.com/se-edu/addressbook-level4/pull/590/files">PR</a> for the full solution.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</li>
</ol>
</div>
<h4 id="code-model-code-component" class="discrete"><code>Model</code> component</h4>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Do take a look at the <a href="#model-component">Design: Model Component</a> section before attempting to modify the <code>Model</code> component.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a <code>removeTag(Tag)</code> method. The specified tag will be removed from everyone in the address book.</p>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Hints</p>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/model/Model.java"><code>Model</code></a> API needs to be updated.</p>
</li>
<li>
<p>Find out which of the existing API methods in  <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/model/AddressBook.java"><code>AddressBook</code></a> and <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/model/person/Person.java"><code>Person</code></a> classes can be used to implement the tag removal logic. <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/model/AddressBook.java"><code>AddressBook</code></a> allows you to update a person, and <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/model/person/Person.java"><code>Person</code></a> allows you to update the tags.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Solution</p>
<div class="ulist">
<ul>
<li>
<p>Add the implementation of <code>deleteTag(Tag)</code> method in <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/model/ModelManager.java"><code>ModelManager</code></a>. Loop through each person, and remove the <code>tag</code> from each person.</p>
</li>
<li>
<p>See this <a href="https://github.com/se-edu/addressbook-level4/pull/591/files">PR</a> for the full solution.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</li>
</ol>
</div>
<h4 id="code-ui-code-component" class="discrete"><code>Ui</code> component</h4>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Do take a look at the <a href="#ui-component">Design: UI Component</a> section before attempting to modify the <code>UI</code> component.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use different colors for different tags inside person cards. For example, <code>friends</code> tags can be all in grey, and <code>colleagues</code> tags can be all in red.</p>
<div class="paragraph">
<p><strong>Before</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/getting-started-ui-tag-before.png" alt="getting started ui tag before" width="300">
</div>
</div>
<div class="paragraph">
<p><em>Figure A.1.1a: Before modification of tag colors</em></p>
</div>
<div class="paragraph">
<p><strong>After</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/getting-started-ui-tag-after.png" alt="getting started ui tag after" width="300">
</div>
</div>
<div class="paragraph">
<p><em>Figure A.1.1b: After modification of tag colors</em></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Hints</p>
<div class="ulist">
<ul>
<li>
<p>The tag labels are created inside <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard#initTags(ReadOnlyPerson)</code></a> (<code>new Label(tag.tagName)</code>). <a href="https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Label.html">JavaFX&#8217;s <code>Label</code> class</a> allows you to modify the style of each Label, such as changing its color.</p>
</li>
<li>
<p>Use the .css attribute <code>-fx-background-color</code> to add a color.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Solution</p>
<div class="ulist">
<ul>
<li>
<p>See this <a href="https://github.com/se-edu/addressbook-level4/pull/592/files">PR</a> for the full solution.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/commons/events/ui/NewResultAvailableEvent.java"><code>NewResultAvailableEvent</code></a> such that <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/ResultDisplay.java"><code>ResultDisplay</code></a> can show a different style on error (currently it shows the same regardless of errors).</p>
<div class="paragraph">
<p><strong>Before</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/getting-started-ui-result-before.png" alt="getting started ui result before" width="200">
</div>
</div>
<div class="paragraph">
<p><em>Figure A.1.2a: Before modification of `NewResultAvailableEvent`</em></p>
</div>
<div class="paragraph">
<p><strong>After</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/getting-started-ui-result-after.png" alt="getting started ui result after" width="200">
</div>
</div>
<div class="paragraph">
<p><em>Figure A.1.2b: After modification of `NewResultAvailableEvent`</em></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Hints</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/commons/events/ui/NewResultAvailableEvent.java"><code>NewResultAvailableEvent</code></a> is raised by <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/CommandBox.java"><code>CommandBox</code></a> which also knows whether the result is a success or failure, and is caught by <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/ResultDisplay.java"><code>ResultDisplay</code></a> which is where we want to change the style to.</p>
</li>
<li>
<p>Refer to <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/CommandBox.java"><code>CommandBox</code></a> for an example on how to display an error.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Solution</p>
<div class="ulist">
<ul>
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/commons/events/ui/NewResultAvailableEvent.java"><code>NewResultAvailableEvent</code></a> 's constructor so that users of the event can indicate whether an error has occurred.</p>
</li>
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/ResultDisplay.java"><code>ResultDisplay#handleNewResultAvailableEvent(event)</code></a> to react to this event appropriately.</p>
</li>
<li>
<p>See this <a href="https://github.com/se-edu/addressbook-level4/pull/593/files">PR</a> for the full solution.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Modify the <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/StatusBarFooter.java"><code>StatusBarFooter</code></a> to show the total number of people in the address book.</p>
<div class="paragraph">
<p><strong>Before</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/getting-started-ui-status-before.png" alt="getting started ui status before" width="500">
</div>
</div>
<div class="paragraph">
<p><em>Figure A.1.3a: Before modification of `StatusBarFooter`</em></p>
</div>
<div class="paragraph">
<p><strong>After</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/getting-started-ui-status-after.png" alt="getting started ui status after" width="500">
</div>
</div>
<div class="paragraph">
<p><em>Figure A.1.4b: After modification of `StatusBarFooter`</em></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Hints</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/resources/view/StatusBarFooter.fxml"><code>StatusBarFooter.fxml</code></a> will need a new <code>StatusBar</code>. Be sure to set the <code>GridPane.columnIndex</code> properly for each <code>StatusBar</code> to avoid misalignment!</p>
</li>
<li>
<p><a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/StatusBarFooter.java"><code>StatusBarFooter</code></a> needs to initialize the status bar on application start, and to update it accordingly whenever the address book is updated.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Solution</p>
<div class="ulist">
<ul>
<li>
<p>Modify the constructor of <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/StatusBarFooter.java"><code>StatusBarFooter</code></a> to take in the number of persons when the application just started.</p>
</li>
<li>
<p>Use <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/StatusBarFooter.java"><code>StatusBarFooter#handleAddressBookChangedEvent(AddressBookChangedEvent)</code></a> to update the number of persons whenever there are new changes to the address book.</p>
</li>
<li>
<p>See this <a href="https://github.com/se-edu/addressbook-level4/pull/596/files">PR</a> for the full solution.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</li>
</ol>
</div>
<h4 id="code-storage-code-component" class="discrete"><code>Storage</code> component</h4>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Do take a look at the <a href="#storage-component">Design: Storage Component</a> section before attempting to modify the <code>Storage</code> component.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a new method <code>backupAddressBook(ReadOnlyAddressBook)</code>, so that the address book can be saved in a fixed temporary location.</p>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Hint</p>
<div class="ulist">
<ul>
<li>
<p>Add the API method in <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/storage/AddressBookStorage.java"><code>AddressBookStorage</code></a> interface.</p>
</li>
<li>
<p>Implement the logic in <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/storage/StorageManager.java"><code>StorageManager</code></a> class.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Solution</p>
<div class="ulist">
<ul>
<li>
<p>See this <a href="https://github.com/se-edu/addressbook-level4/pull/594/files">PR</a> for the full solution.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-new-command-code-remark-code"><a class="link" href="#creating-a-new-command-code-remark-code">A.2. Creating a new command: <code>remark</code></a></h3>
<div class="paragraph">
<p>By creating this command, you will get a chance to learn how to implement a feature end-to-end, touching all major components of the app.</p>
</div>
<div class="sect3">
<h4 id="description"><a class="link" href="#description">A.2.1. Description</a></h4>
<div class="paragraph">
<p>Edits the remark for a person specified in the <code>INDEX</code>.<br>
Format: <code>remark INDEX r/[REMARK]</code></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>remark 1 r/Likes to drink coffee.</code><br>
Edits the remark for the first person to <code>Likes to drink coffee.</code></p>
</li>
<li>
<p><code>remark 1 r/</code><br>
Removes the remark for the first person.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="step-by-step-instructions"><a class="link" href="#step-by-step-instructions">A.2.2. Step-by-step Instructions</a></h4>
<div class="sect4">
<h5 id="step-1-logic-teach-the-app-to-accept-remark-which-does-nothing"><a class="link" href="#step-1-logic-teach-the-app-to-accept-remark-which-does-nothing">[Step 1] Logic: Teach the app to accept 'remark' which does nothing</a></h5>
<div class="paragraph">
<p>Let&#8217;s start by teaching the application how to parse a <code>remark</code> command. We will add the logic of <code>remark</code> later.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a <code>RemarkCommand</code> that extends <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/logic/commands/UndoableCommand.java"><code>UndoableCommand</code></a>. Upon execution, it should just throw an <code>Exception</code>.</p>
</li>
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/logic/parser/AddressBookParser.java"><code>AddressBookParser</code></a> to accept a <code>RemarkCommand</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add <code>RemarkCommandTest</code> that tests that <code>executeUndoableCommand()</code> throws an Exception.</p>
</li>
<li>
<p>Add new test method to <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/test/java/seedu/address/logic/parser/AddressBookParserTest.java"><code>AddressBookParserTest</code></a>, which tests that typing "remark" returns an instance of <code>RemarkCommand</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-2-logic-teach-the-app-to-accept-remark-arguments"><a class="link" href="#step-2-logic-teach-the-app-to-accept-remark-arguments">[Step 2] Logic: Teach the app to accept 'remark' arguments</a></h5>
<div class="paragraph">
<p>Let&#8217;s teach the application to parse arguments that our <code>remark</code> command will accept. E.g. <code>1 r/Likes to drink coffee.</code></p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modify <code>RemarkCommand</code> to take in an <code>Index</code> and <code>String</code> and print those two parameters as the error message.</p>
</li>
<li>
<p>Add <code>RemarkCommandParser</code> that knows how to parse two arguments, one index and one with prefix 'r/'.</p>
</li>
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/logic/parser/AddressBookParser.java"><code>AddressBookParser</code></a> to use the newly implemented <code>RemarkCommandParser</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modify <code>RemarkCommandTest</code> to test the <code>RemarkCommand#equals()</code> method.</p>
</li>
<li>
<p>Add <code>RemarkCommandParserTest</code> that tests different boundary values
for <code>RemarkCommandParser</code>.</p>
</li>
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/test/java/seedu/address/logic/parser/AddressBookParserTest.java"><code>AddressBookParserTest</code></a> to test that the correct command is generated according to the user input.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-3-ui-add-a-placeholder-for-remark-in-code-personcard-code"><a class="link" href="#step-3-ui-add-a-placeholder-for-remark-in-code-personcard-code">[Step 3] Ui: Add a placeholder for remark in <code>PersonCard</code></a></h5>
<div class="paragraph">
<p>Let&#8217;s add a placeholder on all our <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard</code></a> s to display a remark for each person later.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a <code>Label</code> with any random text inside <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/resources/view/PersonListCard.fxml"><code>PersonListCard.fxml</code></a>.</p>
</li>
<li>
<p>Add FXML annotation in <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard</code></a> to tie the variable to the actual label.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/test/java/guitests/guihandles/PersonCardHandle.java"><code>PersonCardHandle</code></a> so that future tests can read the contents of the remark label.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-4-model-add-code-remark-code-class"><a class="link" href="#step-4-model-add-code-remark-code-class">[Step 4] Model: Add <code>Remark</code> class</a></h5>
<div class="paragraph">
<p>We have to properly encapsulate the remark in our <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>ReadOnlyPerson</code></a> class. Instead of just using a <code>String</code>, let&#8217;s follow the conventional class structure that the codebase already uses by adding a <code>Remark</code> class.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add <code>Remark</code> to model component (you can copy from <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/model/person/Address.java"><code>Address</code></a>, remove the regex and change the names accordingly).</p>
</li>
<li>
<p>Modify <code>RemarkCommand</code> to now take in a <code>Remark</code> instead of a <code>String</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add test for <code>Remark</code>, to test the <code>Remark#equals()</code> method.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-5-model-modify-code-readonlyperson-code-to-support-a-code-remark-code-field"><a class="link" href="#step-5-model-modify-code-readonlyperson-code-to-support-a-code-remark-code-field">[Step 5] Model: Modify <code>ReadOnlyPerson</code> to support a <code>Remark</code> field</a></h5>
<div class="paragraph">
<p>Now we have the <code>Remark</code> class, we need to actually use it inside <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>ReadOnlyPerson</code></a>.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add three methods <code>setRemark(Remark)</code>, <code>getRemark()</code> and <code>remarkProperty()</code>. Be sure to implement these newly created methods in <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>Person</code></a>, which implements the <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>ReadOnlyPerson</code></a> interface.</p>
</li>
<li>
<p>You may assume that the user will not be able to use the <code>add</code> and <code>edit</code> commands to modify the remarks field (i.e. the person will be created without a remark).</p>
</li>
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/model/util/SampleDataUtil.java/"><code>SampleDataUtil</code></a> to add remarks for the sample data (delete your <code>addressBook.xml</code> so that the application will load the sample data when you launch it.)</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-6-storage-add-code-remark-code-field-to-code-xmladaptedperson-code-class"><a class="link" href="#step-6-storage-add-code-remark-code-field-to-code-xmladaptedperson-code-class">[Step 6] Storage: Add <code>Remark</code> field to <code>XmlAdaptedPerson</code> class</a></h5>
<div class="paragraph">
<p>We now have <code>Remark</code> s for <code>Person</code> s, but they will be gone when we exit the application. Let&#8217;s modify <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/storage/XmlAdaptedPerson.java"><code>XmlAdaptedPerson</code></a> to include a <code>Remark</code> field so that it will be saved.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a new Xml field for <code>Remark</code>.</p>
</li>
<li>
<p>Be sure to modify the logic of the constructor and <code>toModelType()</code>, which handles the conversion to/from  <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>ReadOnlyPerson</code></a>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Fix <code>validAddressBook.xml</code> such that the XML tests will not fail due to a missing <code>&lt;remark&gt;</code> element.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-7-ui-connect-code-remark-code-field-to-code-personcard-code"><a class="link" href="#step-7-ui-connect-code-remark-code-field-to-code-personcard-code">[Step 7] Ui: Connect <code>Remark</code> field to <code>PersonCard</code></a></h5>
<div class="paragraph">
<p>Our remark label in <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard</code></a> is still a placeholder. Let&#8217;s bring it to life by binding it with the actual <code>remark</code> field.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard#bindListeners()</code></a> to add the binding for <code>remark</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modify <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/test/java/seedu/address/ui/testutil/GuiTestAssert.java"><code>GuiTestAssert#assertCardDisplaysPerson(&#8230;&#8203;)</code></a> so that it will compare the remark label.</p>
</li>
<li>
<p>In <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/test/java/seedu/address/ui/PersonCardTest.java"><code>PersonCardTest</code></a>, call <code>personWithTags.setRemark(ALICE.getRemark())</code> to test that changes in the <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>Person</code></a> 's remark correctly updates the corresponding <a href="https://github.com/CS2103AUG2017-T17-B1/main/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard</code></a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-8-logic-implement-code-remarkcommand-execute-code-logic"><a class="link" href="#step-8-logic-implement-code-remarkcommand-execute-code-logic">[Step 8] Logic: Implement <code>RemarkCommand#execute()</code> logic</a></h5>
<div class="paragraph">
<p>We now have everything set up&#8230;&#8203; but we still can&#8217;t modify the remarks. Let&#8217;s finish it up by adding in actual logic for our <code>remark</code> command.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Replace the logic in <code>RemarkCommand#execute()</code> (that currently just throws an <code>Exception</code>), with the actual logic to modify the remarks of a person.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Update <code>RemarkCommandTest</code> to test that the <code>execute()</code> logic works.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="full-solution"><a class="link" href="#full-solution">A.2.3. Full Solution</a></h4>
<div class="paragraph">
<p>See this <a href="https://github.com/se-edu/addressbook-level4/pull/599">PR</a> for the step-by-step solution.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-stories"><a class="link" href="#user-stories">Appendix B: User Stories</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Priorities: High (must have) - <code>* * *</code>, Medium (nice to have) - <code>* *</code>, Low (unlikely to have) - <code>*</code></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 59%;">
<colgroup>
<col style="width: 22%;">
<col style="width: 23%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">As a &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">I want to &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">So that I can&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see usage instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">refer to instructions when I forget my way around the App</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add a new person</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete a person</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remove entries that I no longer need</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find a person by name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">locate details of persons without having to go through the entire list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">edit contacts</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add tags to my contacts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">group them by other classifications as I prefer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">filter my contacts by tags</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">easily see only contacts that are tagged with the tag of interest</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">save multiple phone numbers to one contact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have multiple ways of contacting a contact</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicate and update amount owed by a debtor when the debtor borrows or returns money</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see how much a debtor owes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sort my contacts by the amount owed</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a <a href="#whitelist">whitelist</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use that list for record keeping</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a <a href="#blacklist">blacklist</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know who not to lend money to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a list of debtors whose debts are overdue</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have an automated interest calculator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have my debtors' debts updated automatically every month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">group my debtors by <a href="#cluster">clusters</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plan my visit schedules easily</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a debt field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">store the amount of debt each Person has</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a deadline field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of the deadline of the Person&#8217;s debt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a date borrowed field</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">security-concerned debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have password protection to my account</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have some security over confidential information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">efficient debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have an automated journey scheduler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximise my efficiency</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">security-concerned debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">receive an email notification when logging in from an unknown device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know when there are unintended logins to my account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">versatile user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have different appearance themes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a more unique user experience that suits my preferences</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a guided installation/no installation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">easily start using it</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clumsy user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have automatic backups</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not worry about accidentally deleting things</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have the ability to impose different periods of <a href="#ban">ban</a> on my blacklisted clients</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have clients automatically transferred out of that list after their ban</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have the ability to perform validity checks on clients' personal information (HP,Email address)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">verify that their data is genuine</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">meticulous debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see my client&#8217;s <a href="#progress-bar">progress-bar</a> which indicates their debt &amp; the time remaining to pay it off</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a better visual representation of data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a Help command that displays screenshots of positive examples</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">understand the commands more visually</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">meticulous debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a feature that prevents duplicate contacts to be added</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ensure that the system is not unnecessarily complex</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have profile pictures for my clients</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">easily identify them in a glance</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">security-concerned debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view my last login time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ensure that no one else is using my account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">security-concerned debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have <a href="#twoFA">2FA</a> authentication for login and every other important action(exporting contacts)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ensure that no one else is capable of accessing sensitive information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">multi-device user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be able to export my contacts in another format (e.g xml, vcf)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">store my contacts in another device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create custom fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">store additional information for some contacts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">randomly generate a contact from the <a href="#whitelist">whitelist</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">choose to chat up a random contact to talk them into getting a loan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use a file upload feature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">upload signed documents to a specific client record in the database</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">debt collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a 'add-log' button that generates specific date and time(at the instance of clicking the button)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fill up the call <a href="#log">log</a> sheet of a contact without manually typing the exact instance of time</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="link" href="#use-cases">Appendix C: Use Cases</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>(For all use cases below, the <strong>System</strong> is <code>Codii</code> and the <strong>Actor</strong> is the <code>user</code>, unless specified otherwise)</p>
</div>
<h3 id="use-case-delete-person" class="discrete">Use case: Delete person</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to list persons</p>
</li>
<li>
<p>Codii shows a list of persons</p>
</li>
<li>
<p>User requests to delete a specific person in the list</p>
</li>
<li>
<p>Codii deletes the person</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The list is empty.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>3a. The given index is invalid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. Codii shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-add-tag-to-person" class="discrete">Use case: Add tag to person</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to add a new tag to a person</p>
</li>
<li>
<p>Codii adds the tag to the person</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<h3 id="use-case-sort-by-name" class="discrete">Use case: Sort by name</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to sort person list by name of persons</p>
</li>
<li>
<p>Codii shows a sorted list of persons</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. Codii is empty i.e. there are no contacts stored in Codii.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
<h3 id="use-case-add-a-person-to-blacklist" class="discrete">Use case: Add a person to blacklist</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to list all persons i.e. to show the masterlist</p>
</li>
<li>
<p>Codii shows the masterlist</p>
</li>
<li>
<p>User requests to ban a specific person in the list</p>
</li>
<li>
<p>Codii adds the person into the blacklist</p>
</li>
<li>
<p>User requests to list blacklisted contacts</p>
</li>
<li>
<p>Codii shows the blacklist</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The masterlist is empty.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>3a. The given index is invalid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. Codii shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-edit-person" class="discrete">Use case: Edit person</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to edit a person</p>
</li>
<li>
<p>Codii displays the current information of the person</p>
</li>
<li>
<p>User edits the information in person</p>
</li>
<li>
<p>Codii updates the information in person</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. User keys in invalid information into fields.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. Codii shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-add-person" class="discrete">Use case: Add person</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to add a person in the list</p>
</li>
<li>
<p>Codii adds the person</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. The person already exists in the address book.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. Codii shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 1.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>1b. The user enters the command in a wrong format into the command box.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1b1. Codii shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 1.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-find-person-by-name" class="discrete">Use case: Find person by name</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to find person by name</p>
</li>
<li>
<p>Codii shows a list of corresponding persons with any of the given keywords</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. No matches found.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. Codii shows 0 persons found.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="non-functional-requirements"><a class="link" href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should work on any <a href="#mainstream-os">mainstream OS</a> as long as it has Java <code>1.8.0_60</code> or higher installed.</p>
</li>
<li>
<p>Should be able to hold up to 1000 persons without a noticeable sluggishness in performance for typical usage.</p>
</li>
<li>
<p>A user with above average typing speed for regular English text (i.e. not code, not system admin commands) should be able to accomplish most of the tasks faster using commands than using the mouse.</p>
</li>
<li>
<p>Should not take more than two seconds to complete a command.</p>
</li>
<li>
<p>The system should be maintainable with proper documentation.</p>
</li>
<li>
<p>The system should be usable by a novice who has never used an address book application before.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="link" href="#glossary">Appendix E: Glossary</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Definition</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="twoFA"></a>2FA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">An extra layer of security that is known as "multi factor authentication" that requires not only a password and username but also a token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="ban"></a>Ban</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A period of prohibition in which the person is not allowed to loan money</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="blacklist"></a>Blacklist</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A list of people who are banned from borrowing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="cluster"></a>Cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">General location based on postal districts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="log"></a>Log</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">An official record of events</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="mainstream-os"></a>Mainstream OS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows, Linux, Unix, OS-X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="private-contact-detail"></a>Private contact detail</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A contact detail that is not meant to be shared with others</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="progress-bar"></a>Progress Bar</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A visual representation that shows a user how far along he/she is in a process</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="whitelist"></a>Whitelist</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A list of people who have cleared their debts</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="product-survey"><a class="link" href="#product-survey">Appendix F: Product Survey</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. <strong>Address Book</strong>, reviewed by Deleatha C Jones</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Pros</th>
<th class="tableblock halign-left valign-top">Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Easy to use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can only enter one phone number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Has all contact information fields</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. <strong>Address book - Placebook</strong>, reviewed by M Kenneally</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Pros</th>
<th class="tableblock halign-left valign-top">Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simple to use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cannot import from Google contacts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search address function is brilliant - fast and intuitive</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GPS location</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nice clean interface</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">No ads</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. <strong>Address Book and Contacts</strong>, reviewed by Jessica Ryans &amp; Leslie Murray</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Pros</th>
<th class="tableblock halign-left valign-top">Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simple to use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can&#8217;t edit groups once formed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">It categorizes contacts into groups</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not have enough fields</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. <strong>Address Book</strong>, reviewed by Becca Malard &amp; Susan Starrett</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Pros</th>
<th class="tableblock halign-left valign-top">Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shows map of user location</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Doesn&#8217;t open all the time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Easy to use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Very slow</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-13 11:23:54 +00:00
</div>
</div>
</body>
</html>